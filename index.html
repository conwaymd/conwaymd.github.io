<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="author" content="Conway">
<meta name="description" content="Documentation for Conway-Markdown (CMD).">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/cmd.css">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#7000ff">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="theme-color" content="#ffffff">
<title>Conway-Markdown (CMD) v4.5.0</title>
</head>
<body>
<h1>Conway-Markdown (CMD) v4.5.0</h1>
<p>
Conway-Markdown (CMD) is:
</p>
<ul>
<li>
A replacement-driven markup language inspired by Markdown.
</li>
<li>
A demonstration of the folly of throwing regex at a parsing problem.
</li>
<li>
The result of someone joking that
<q>the filenames would look like Windows executables from the 90s</q>.
</li>
<li>
Implemented in <a href="https://packages.debian.org/stable/python3">Python 3.{whatever Debian stable is at}</a>.
</li>
<li>
Licensed under "MIT No Attribution" (MIT-0).
</li>
</ul>
<h2 id="contents"><a href="#contents" class="permalink" aria-label="Permalink"></a>Contents</h2>
<ul>
<li>
<a href="#installation-and-usage">Installation and usage</a>
</li>
<li>
<a href="#authoring-cmd-files">Authoring CMD files</a>
</li>
<li>
<a href="#standard-rules">Standard CMD replacement rules</a>
<ul>
<li>
<a href="#standard-queued-replacements">Standard queued replacements</a>
<ol start="0">
<li>
<a href="#placeholder-markers"><code>#placeholder-markers</code></a>
</li>
<li>
<a href="#literals"><code>#literals</code></a>
</li>
<li>
<a href="#display-code"><code>#display-code</code></a>
</li>
<li>
<a href="#comments"><code>#comments</code></a>
</li>
<li>
<a href="#divisions"><code>#divisions</code></a>
</li>
<li>
<a href="#blockquotes"><code>#blockquotes</code></a>
</li>
<li>
<a href="#unordered-lists"><code>#unordered-lists</code></a>
</li>
<li>
<a href="#ordered-lists"><code>#ordered-lists</code></a>
</li>
<li>
<a href="#tables"><code>#tables</code></a>
</li>
<li>
<a href="#headings"><code>#headings</code></a>
</li>
<li>
<a href="#paragraphs"><code>#paragraphs</code></a>
</li>
<li>
<a href="#inline-code"><code>#inline-code</code></a>
</li>
<li>
<a href="#boilerplate"><code>#boilerplate</code></a>
</li>
<li>
<a href="#boilerplate-properties"><code>#boilerplate-properties</code></a>
</li>
<li>
<a href="#cmd-properties"><code>#cmd-properties</code></a>
</li>
<li>
<a href="#boilerplate-protect"><code>#boilerplate-protect</code></a>
</li>
<li>
<a href="#backslash-escapes"><code>#backslash-escapes</code></a>
</li>
<li>
<a href="#backslash-continuations"><code>#backslash-continuations</code></a>
</li>
<li>
<a href="#reference-definitions"><code>#reference-definitions</code></a>
</li>
<li>
<a href="#specified-images"><code>#specified-images</code></a>
</li>
<li>
<a href="#referenced-images"><code>#referenced-images</code></a>
</li>
<li>
<a href="#explicit-links"><code>#explicit-links</code></a>
</li>
<li>
<a href="#specified-links"><code>#specified-links</code></a>
</li>
<li>
<a href="#referenced-links"><code>#referenced-links</code></a>
</li>
<li>
<a href="#inline-semantics"><code>#inline-semantics</code></a>
</li>
<li>
<a href="#escape-idle-html"><code>#escape-idle-html</code></a>
</li>
<li>
<a href="#whitespace"><code>#whitespace</code></a>
</li>
<li>
<a href="#placeholder-unprotect"><code>#placeholder-unprotect</code></a>
</li>
</ol>
</li>
<li>
<a href="#standard-unqueued-replacements">Standard unqueued replacements</a>
<ul>
<li>
<a href="#placeholder-protect"><code>#placeholder-protect</code></a>
</li>
<li>
<a href="#de-indent"><code>#de-indent</code></a>
</li>
<li>
<a href="#escape-html"><code>#escape-html</code></a>
</li>
<li>
<a href="#trim-whitespace"><code>#trim-whitespace</code></a>
</li>
<li>
<a href="#reduce-whitespace"><code>#reduce-whitespace</code></a>
</li>
<li>
<a href="#code-tag-wrap"><code>#code-tag-wrap</code></a>
</li>
<li>
<a href="#prepend-newline"><code>#prepend-newline</code></a>
</li>
<li>
<a href="#unordered-list-items"><code>#unordered-list-items</code></a>
</li>
<li>
<a href="#ordered-list-items"><code>#ordered-list-items</code></a>
</li>
<li>
<a href="#mark-table-headers-for-preceding-table-data"><code>#mark-table-headers-for-preceding-table-data</code></a>
</li>
<li>
<a href="#table-headers"><code>#table-headers</code></a>
</li>
<li>
<a href="#table-data"><code>#table-data</code></a>
</li>
<li>
<a href="#unmark-table-headers-for-preceding-table-data"><code>#unmark-table-headers-for-preceding-table-data</code></a>
</li>
<li>
<a href="#table-rows"><code>#table-rows</code></a>
</li>
<li>
<a href="#table-head"><code>#table-head</code></a>
</li>
<li>
<a href="#table-body"><code>#table-body</code></a>
</li>
<li>
<a href="#table-foot"><code>#table-foot</code></a>
</li>
<li>
<a href="#suppress-scheme"><code>#suppress-scheme</code></a>
</li>
<li>
<a href="#angle-bracket-wrap"><code>#angle-bracket-wrap</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#replacement-rule-syntax">CMD replacement rule syntax</a>
<ul>
<li>
<a href="#ReplacementSequence"><code>ReplacementSequence</code></a>
</li>
<li>
<a href="#PlaceholderMarkerReplacement"><code>PlaceholderMarkerReplacement</code></a>
</li>
<li>
<a href="#PlaceholderProtectionReplacement"><code>PlaceholderProtectionReplacement</code></a>
</li>
<li>
<a href="#PlaceholderUnprotectionReplacement"><code>PlaceholderUnprotectionReplacement</code></a>
</li>
<li>
<a href="#DeIndentationReplacement"><code>DeIndentationReplacement</code></a>
</li>
<li>
<a href="#OrdinaryDictionaryReplacement"><code>OrdinaryDictionaryReplacement</code></a>
</li>
<li>
<a href="#RegexDictionaryReplacement"><code>RegexDictionaryReplacement</code></a>
</li>
<li>
<a href="#FixedDelimitersReplacement"><code>FixedDelimitersReplacement</code></a>
</li>
<li>
<a href="#ExtensibleFenceReplacement"><code>ExtensibleFenceReplacement</code></a>
</li>
<li>
<a href="#PartitioningReplacement"><code>PartitioningReplacement</code></a>
</li>
<li>
<a href="#InlineAssortedDelimitersReplacement"><code>InlineAssortedDelimitersReplacement</code></a>
</li>
<li>
<a href="#HeadingReplacement"><code>HeadingReplacement</code></a>
</li>
<li>
<a href="#ReferenceDefinitionReplacement"><code>ReferenceDefinitionReplacement</code></a>
</li>
<li>
<a href="#SpecifiedImageReplacement"><code>SpecifiedImageReplacement</code></a>
</li>
<li>
<a href="#ReferencedImageReplacement"><code>ReferencedImageReplacement</code></a>
</li>
<li>
<a href="#ExplicitLinkReplacement"><code>ExplicitLinkReplacement</code></a>
</li>
<li>
<a href="#SpecifiedLinkReplacement"><code>SpecifiedLinkReplacement</code></a>
</li>
<li>
<a href="#ReferencedLinkReplacement"><code>ReferencedLinkReplacement</code></a>
</li>
</ul>
</li>
<li>
<a href="#cmd-placeholders">CMD placeholders</a>
</li>
<li>
<a href="#cmd-attribute-specifications">CMD attribute specifications</a>
</li>
<li>
<a href="#repository-links">Repository links</a>
</li>
</ul>
<h2 id="installation-and-usage"><a href="#installation-and-usage" class="permalink" aria-label="Permalink"></a>Installation and usage</h2>
<ol start="0">
<li>
Clone the <a href="https://github.com/conway-markdown/conway-markdown">repository of the Python implementation</a>:
<pre><code>$ git clone https://github.com/conway-markdown/conway-markdown
</code></pre>
<p>
Since <code>cmd.py</code> is <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py">a shitty single-file script</a>,
it will not be turned into a proper Python package.
</p>
</li>
</ol>
<h3 id="linux-terminals"><a href="#linux-terminals" class="permalink" aria-label="Permalink"></a>Linux terminals, macOS Terminal, Git BASH for Windows</h3>
<ol>
<li>
Make an alias for <code>cmd.py</code> in whatever dotfile
you configure your aliases in:
<pre><code>alias cmd='path/to/cmd.py'
</code></pre>
</li>
<li>
Invoke the alias to convert a CMD file to HTML:
<pre><code>$ cmd [-h] [-v] [-x] [file.cmd ...]

Convert Conway-Markdown (CMD) to HTML.

positional arguments:
  file.cmd       Name of CMD file to be converted. Abbreviate as `file` or
                 `file.` for increased productivity. Omit to convert all CMD
                 files under the working directory.

optional arguments:
  -h, --help     show this help message and exit
  -v, --version  show program's version number and exit
  -x, --verbose  run in verbose mode (prints every replacement applied)
</code></pre>
</li>
</ol>
<h3 id="windows-command-prompt"><a href="#windows-command-prompt" class="permalink" aria-label="Permalink"></a>Windows Command Prompt</h3>
<ol>
<li>
Add the folder containing <code>cmd.py</code> to the <code>%PATH%</code> variable
</li>
<li>
Invoke <code>cmd.py</code> to convert a CMD file to HTML:
<pre><code>&gt; cmd.py [-h] [-v] [-x] [file.cmd ...]

Convert Conway-Markdown (CMD) to HTML.

positional arguments:
  file.cmd       Name of CMD file to be converted. Abbreviate as `file` or
                 `file.` for increased productivity. Omit to convert all CMD
                 files under the working directory.

optional arguments:
  -h, --help     show this help message and exit
  -v, --version  show program's version number and exit
  -x, --verbose  run in verbose mode (prints every replacement applied)
</code></pre>
</li>
</ol>
<p>
<strong>WARNING: on Windows, be careful not to run any <code>.cmd</code> files by accident;
they might break your computer. God save!</strong>
</p>
<h2 id="authoring-cmd-files"><a href="#authoring-cmd-files" class="permalink" aria-label="Permalink"></a>Authoring CMD files</h2>
<p>
CMD files are parsed thus:
</p>
<pre class="cmd"><code><b class="cmdr">«replacement rules»</b>
«delimiter»
<b class="cmdc">«main content»</b>
</code></pre>
<ul>
<li>
<b><code class="cmd cmdr">«replacement rules»</code></b> are user-defined CMD replacement rules
that will be used in addition to the standard CMD replacement rules.
</li>
<li>
<code class="cmd">«delimiter»</code> is the first occurrence of
3-or-more percent signs on its own line.
(If no <code class="cmd">«delimiter»</code> is found in the file,
the whole file is parsed as <code class="cmd cmdc">«main content»</code>.)
</li>
<li>
<b><code class="cmd cmdc">«main content»</code></b> is the CMD content
that will be converted to HTML according to
the standard and user-defined CMD replacement rules.
</li>
</ul>
<p>
In the implementation:
</p>
<ol>
<li>
An empty <b>replacement queue</b> is initialised.
</li>
<li>
<b><code>STANDARD_RULES</code></b> in <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py"><code>cmd.py</code></a> are parsed,
and CMD replacement rules are added to the replacement queue accordingly.
</li>
<li>
<b><code class="cmd cmdr">«replacement rules»</code></b> in the CMD file are parsed,
and CMD replacement rules are added or inserted into the replacement queue
accordingly.
</li>
<li>
The CMD replacement rules in the replacement queue are
<b>applied sequentially to <code class="cmd cmdc">«main content»</code></b>
to convert it to HTML.
</li>
</ol>
<p>
To get started with writing <b><code class="cmd cmdc">«main content»</code></b>,
read the listing of <a href="#standard-rules">standard CMD replacement rules</a>.
</p>
<p>
To learn about writing user-defined <b><code class="cmd cmdr">«replacement rules»</code></b>,
read about <a href="#replacement-rule-syntax">CMD replacement rule syntax</a>.
</p>
<h2 id="standard-rules"><a href="#standard-rules" class="permalink" aria-label="Permalink"></a>Standard CMD replacement rules</h2>
<p>
This section lists the standard CMD replacement rules
as defined by the constant string <b><code>STANDARD_RULES</code></b> in <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py"><code>cmd.py</code></a>.
</p>
<p>
Some replacement rules are <a href="#standard-queued-replacements">queued</a>,
in that they appear explicitly in the replacement queue.
</p>
<p>
Other replacement rules are <a href="#standard-unqueued-replacements">unqueued</a>,
in that they do not appear explicitly in the replacement queue.
However, they might be called by queued replacements.
</p>
<h3 id="standard-queued-replacements"><a href="#standard-queued-replacements" class="permalink" aria-label="Permalink"></a>Standard queued replacements</h3>
<h4 id="placeholder-markers"><a href="#placeholder-markers" class="permalink" aria-label="Permalink"></a>0. <code>#placeholder-markers</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PlaceholderMarkerReplacement: #placeholder-markers
- queue_position: ROOT
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Replaces occurrences of the placeholder marker <code>«U+F8FF»</code>
with a <a href="#cmd-placeholders">placeholder</a>
so that the occurrences will not be confounding.
</p>
</details>
<h4 id="literals"><a href="#literals" class="permalink" aria-label="Permalink"></a>1. <code>#literals</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #literals
- queue_position: AFTER #placeholder-markers
- syntax_type: INLINE
- allowed_flags:
    u=KEEP_HTML_UNESCAPED
    i=KEEP_INDENTED
    w=REDUCE_WHITESPACE
- prologue_delimiter: &lt;
- extensible_delimiter: `
- content_replacements:
    #escape-html
    #de-indent
    #trim-whitespace
    #reduce-whitespace
    #placeholder-protect
- epilogue_delimiter: &gt;
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>&lt;</b><b>`</b> «content» <b>`</b><b>&gt;</b>
</code></pre>
<pre class="cmd cmdc"><code>«flags»<b>&lt;</b><b>`</b> «content» <b>`</b><b>&gt;</b>
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«flags»</code>:
<ul>
<li>
<code class="cmd cmdc">u</code>: keep HTML unescaped (do not apply <a href="#escape-html"><code>#escape-html</code></a>)
</li>
<li>
<code class="cmd cmdc">i</code>: keep indented (do not apply <a href="#de-indent"><code>#de-indent</code></a>)
</li>
<li>
<code class="cmd cmdc">w</code>: reduce whitespace (apply <a href="#reduce-whitespace"><code>#reduce-whitespace</code></a>)
</li>
</ul>
</li>
<li>
The number of backticks <code class="cmd cmdc"><b>`</b></code>
may be increased arbitrarily.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Preserves <code class="cmd cmdc">«content»</code> literally.
</p>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Write a literal string:
<ul>
<li>
CMD: <code class="cmd cmdc">&lt;` &lt;b&gt;Foo&lt;/b&gt; `&gt;</code>
</li>
<li>
HTML: <code class="html">&amp;lt;b&amp;gt;Foo&amp;lt;/b&amp;gt;</code>
</li>
<li>
Rendered: &lt;b&gt;Foo&lt;/b&gt;
</li>
</ul>
</li>
<li>
Keep HTML unescaped:
<ul>
<li>
CMD: <code class="cmd cmdc">u&lt;` &lt;b&gt;Foo&lt;/b&gt; `&gt;</code>
</li>
<li>
HTML: <code class="html">&lt;b&gt;Foo&lt;/b&gt;</code>
</li>
<li>
Rendered: <b>Foo</b>
</li>
</ul>
</li>
<li>
Increase the number of backticks to include content
that matches the <code>#literals</code> syntax itself:
<ul>
<li>
CMD: <code class="cmd cmdc">&lt;`` Literally &lt;`literal`&gt;. ``&gt;</code>
</li>
<li>
HTML: <code class="html">Literally &amp;lt;`literal`&amp;gt;.</code>
</li>
<li>
Rendered: Literally &lt;`literal`&gt;.
</li>
</ul>
</li>
</ol>
</details>
<h4 id="display-code"><a href="#display-code" class="permalink" aria-label="Permalink"></a>2. <code>#display-code</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #display-code
- queue_position: AFTER #literals
- syntax_type: BLOCK
- allowed_flags:
    u=KEEP_HTML_UNESCAPED
    i=KEEP_INDENTED
    w=REDUCE_WHITESPACE
- extensible_delimiter: ``
- attribute_specifications: EMPTY
- content_replacements:
    #escape-html
    #de-indent
    #reduce-whitespace
    #code-tag-wrap
    #placeholder-protect
- tag_name: pre
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>``</b>
  «content»
<b>``</b>
</code></pre>
<pre class="cmd cmdc"><code><b>``</b>{«attribute specifications»}
  «content»
<b>``</b>
</code></pre>
<pre class="cmd cmdc"><code>«flags»<b>``</b>
  «content»
<b>``</b>
</code></pre>
<pre class="cmd cmdc"><code>«flags»<b>``</b>{«attribute specifications»}
  «content»
<b>``</b>
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«flags»</code>:
<ul>
<li>
<code class="cmd cmdc">u</code>: keep HTML unescaped (do not apply <a href="#escape-html"><code>#escape-html</code></a>)
</li>
<li>
<code class="cmd cmdc">i</code>: keep indented (do not apply <a href="#de-indent"><code>#de-indent</code></a>)
</li>
<li>
<code class="cmd cmdc">w</code>: reduce whitespace (apply <a href="#reduce-whitespace"><code>#reduce-whitespace</code></a>)
</li>
</ul>
</li>
<li>
The number of backticks <code class="cmd cmdc"><b>`</b></code>
may be increased arbitrarily.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces (pre-formatted) display code:
</p>
<pre class="html"><code><b>&lt;pre</b>«attribute sequence»<b>&gt;&lt;code&gt;</b>«content»
<b>&lt;/code&gt;&lt;/pre&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Display code:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>``{.java}
  for (int index = 0; index &lt; count; index++)
  {
    // etc. etc.
  }
``
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;pre class="java"&gt;&lt;code&gt;for (int index = 0; index &amp;lt; count; index++)
{
  // etc. etc.
}
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</li>
<li>
Rendered:
<pre class="java"><code>for (int index = 0; index &lt; count; index++)
{
  // etc. etc.
}
</code></pre>
</li>
</ul>
</li>
<li>
Use <a href="#literals"><code>#literals</code></a> with flag <code class="cmd cmdc">u</code> to inject HTML:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>``
  Injection of &lt;b&gt; element u&lt;` &lt;b&gt;here&lt;/b&gt; `&gt;.
``
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;pre&gt;&lt;code&gt;Injection of &amp;lt;b&amp;gt; element &lt;b&gt;here&lt;/b&gt;.
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</li>
<li>
Rendered:
<pre><code>Injection of &lt;b&gt; element <b>here</b>.
</code></pre>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="comments"><a href="#comments" class="permalink" aria-label="Permalink"></a>3. <code>#comments</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #comments
- queue_position: AFTER #display-code
* [^\S\n]*
  [&lt;]
    (?P&lt;hashes&gt; [#]+ )
      [\s\S]*?
    (?P=hashes)
  [&gt;]
    --&gt;
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>&lt;</b><b>#</b> «content» <b>#</b><b>&gt;</b>
</code></pre>
<ul>
<li>
The number of hashes <code class="cmd cmdc"><b>#</b></code> may be increased arbitrarily.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Remove CMD comments, along with all preceding whitespace.
</p>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
<a href="#display-code"><code>#display-code</code></a> prevails over <code>#comments</code>:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>``
  Before.
  &lt;# This be a comment. #&gt;
  After.
``
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;pre&gt;&lt;code&gt;Before.
&amp;lt;# This be a comment. #&amp;gt;
After.
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</li>
<li>
Rendered:
<pre><code>Before.
&lt;# This be a comment. #&gt;
After.
</code></pre>
</li>
</ul>
</li>
<li>
<code>#comments</code> prevail over <a href="#inline-code"><code>#inline-code</code></a>:
<ul>
<li>
CMD: <code class="cmd cmdc">`Before. &lt;# This be a comment. #&gt; After.`</code>
</li>
<li>
HTML: <code class="html">&lt;code&gt;Before. After.&lt;/code&gt;</code>
</li>
<li>
Rendered: <code>Before. After.</code>
</li>
</ul>
</li>
<li>
Use <a href="#literals"><code>#literals</code></a> to make <a href="#inline-code"><code>#inline-code</code></a> prevail over <code>#comments</code>:
<ul>
<li>
CMD:
<code class="cmd cmdc">` &lt;`Before. &lt;# This be a comment. #&gt; After.`&gt; `</code>
</li>
<li>
HTML:
<code class="html">&lt;code&gt;Before. &amp;lt;# This be a comment. #&amp;gt; After.&lt;/code&gt;</code>
</li>
<li>
Rendered:
<code>Before. &lt;# This be a comment. #&gt; After.</code>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="divisions"><a href="#divisions" class="permalink" aria-label="Permalink"></a>4. <code>#divisions</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #divisions
- queue_position: AFTER #comments
- syntax_type: BLOCK
- extensible_delimiter: ||
- attribute_specifications: EMPTY
- content_replacements:
    #divisions
    #prepend-newline
- tag_name: div
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>||</b>
  «content»
<b>||</b>
</code></pre>
<pre class="cmd cmdc"><code><b>||</b>{«attribute specifications»}
  «content»
<b>||</b>
</code></pre>
<ul>
<li>
The number of pipes <code class="cmd cmdc"><b>|</b></code> may be increased arbitrarily.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a division:
</p>
<pre class="html"><code><b>&lt;div</b>«attribute sequence»<b>&gt;</b>
«content»
<b>&lt;/div&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Division:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>||{#test-div-id .test-div-class}
  This be a division.
||
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;div id="test-div-id" class="test-div-class"&gt;
This be a division.
&lt;/div&gt;
</code></pre>
</li>
</ul>
</li>
<li>
More pipes for nested divisions:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>||||{.outer}
  ||{.inner}
    This be a division.
  ||
||||
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;div class="outer"&gt;
&lt;div class="inner"&gt;
This be a division.
&lt;/div&gt;
&lt;/div&gt;
</code></pre>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="blockquotes"><a href="#blockquotes" class="permalink" aria-label="Permalink"></a>5. <code>#blockquotes</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #blockquotes
- queue_position: AFTER #divisions
- syntax_type: BLOCK
- extensible_delimiter: ""
- attribute_specifications: EMPTY
- content_replacements:
    #blockquotes
    #prepend-newline
- tag_name: blockquote
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>""</b>
  «content»
<b>""</b>
</code></pre>
<pre class="cmd cmdc"><code><b>""</b>{«attribute specifications»}
  «content»
<b>""</b>
</code></pre>
<ul>
<li>
The number of double-quotes <code class="cmd cmdc"><b>"</b></code>
may be increased arbitrarily.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a blockquote:
</p>
<pre class="html"><code><b>&lt;blockquote</b>«attribute sequence»<b>&gt;</b>
«content»
<b>&lt;/blockquote&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Blockquote:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>""{#test-blockquote-id .test-blockquote-class}
  This be a blockquote.
""
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;blockquote id="test-blockquote-id" class="test-blockquote-class"&gt;
This be a blockquote.
&lt;/blockquote&gt;
</code></pre>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="unordered-lists"><a href="#unordered-lists" class="permalink" aria-label="Permalink"></a>6. <code>#unordered-lists</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #unordered-lists
- queue_position: AFTER #blockquotes
- syntax_type: BLOCK
- extensible_delimiter: ==
- attribute_specifications: EMPTY
- content_replacements:
    #unordered-lists
    #unordered-list-items
    #prepend-newline
- tag_name: ul
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>==</b>
<b>-</b> «item»
«...»
<b>==</b>
</code></pre>
<pre class="cmd cmdc"><code><b>==</b>{«attribute specifications»}
<b>-</b>{«attribute specifications»} «item»
«...»
<b>==</b>
</code></pre>
<ul>
<li>
The number of equals signs <code class="cmd cmdc"><b>=</b></code>
may be increased arbitrarily.
</li>
<li>
The item delimiter may be
<code class="cmd cmdc"><b>-</b></code>, <code class="cmd cmdc"><b>+</b></code>, or <code class="cmd cmdc"><b>*</b></code>,
see <a href="#unordered-list-items"><code>#unordered-list-items</code></a>.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces an unordered list:
</p>
<pre class="html"><code><b>&lt;ul</b>«attribute sequence»<b>&gt;</b>
<b>&lt;li&gt;</b>
«item»
<b>&lt;/li&gt;</b>
«...»
<b>&lt;/ul&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Nested list:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>======
* A
  ===={style="background: yellow"}
  - A1
  - A2
  ====
- B
  ====
  +{style="color: purple"} B1
  - B2
  ====
======
</code></pre>
</li>
<li>
Rendered:
<ul>
<li>
A
<ul style="background: yellow">
<li>
A1
</li>
<li>
A2
</li>
</ul>
</li>
<li>
B
<ul>
<li style="color: purple">
B1
</li>
<li>
B2
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="ordered-lists"><a href="#ordered-lists" class="permalink" aria-label="Permalink"></a>7. <code>#ordered-lists</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #ordered-lists
- queue_position: AFTER #unordered-lists
- syntax_type: BLOCK
- extensible_delimiter: ++
- attribute_specifications: EMPTY
- content_replacements:
    #ordered-lists
    #ordered-list-items
    #prepend-newline
- tag_name: ol
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>++</b>
<b>1.</b> «item»
«...»
<b>++</b>
</code></pre>
<pre class="cmd cmdc"><code><b>++</b>{«attribute specifications»}
<b>1.</b>{«attribute specifications»} «item»
«...»
<b>++</b>
</code></pre>
<ul>
<li>
The number of plus signs <code class="cmd cmdc"><b>+</b></code>
may be increased arbitrarily.
</li>
<li>
The item delimiter may be any <b>run of digits</b>
followed by a <b>full stop</b>,
see <a href="#ordered-list-items"><code>#ordered-list-items</code></a>.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces an ordered list:
</p>
<pre class="html"><code><b>&lt;ol</b>«attribute sequence»<b>&gt;</b>
<b>&lt;li&gt;</b>
«item»
<b>&lt;/li&gt;</b>
«...»
<b>&lt;/ol&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Any run of digits can be used in the item delimiter:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>++
1. A
2. B
3. C
0. D
99999999. E
++
</code></pre>
</li>
<li>
Rendered:
<ol>
<li>
A
</li>
<li>
B
</li>
<li>
C
</li>
<li>
D
</li>
<li>
E
</li>
</ol>
</li>
</ul>
</li>
<li>
Nested ordered lists:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>++++
1. This shall be respected.
2. This shall be read aloud if:
  ++{type="a"}
  1. I say so;
  2. I think so; or
  3.{style="color: purple"} Pigs fly.
  ++
++++
</code></pre>
</li>
<li>
Rendered:
<ol>
<li>
This shall be respected.
</li>
<li>
This shall be read aloud if:
<ol type="a">
<li>
I say so;
</li>
<li>
I think so; or
</li>
<li style="color: purple">
Pigs fly.
</li>
</ol>
</li>
</ol>
</li>
</ul>
</li>
<li>
Zero-based indexing:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>++{start=0}
0. Nil
1. One
++
</code></pre>
</li>
<li>
Rendered:
<ol start="0">
<li>
Nil
</li>
<li>
One
</li>
</ol>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="tables"><a href="#tables" class="permalink" aria-label="Permalink"></a>8. <code>#tables</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #tables
- queue_position: AFTER #ordered-lists
- syntax_type: BLOCK
- extensible_delimiter: ''
- attribute_specifications: EMPTY
- content_replacements:
    #tables
    #table-head
    #table-body
    #table-foot
    #table-rows
    #prepend-newline
- tag_name: table
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>''</b>
<b>|^</b>
  <b>//</b>
    <b>;</b> «item»
    <b>,</b> «item»
    «...»
  «...»
<b>|:</b>
  «...»
<b>|_</b>
  «...»
<b>''</b>
</code></pre>
<pre class="cmd cmdc"><code><b>''</b>
<b>//</b>
  <b>;</b> «item»
  <b>,</b> «item»
  «...»
«...»
<b>''</b>
</code></pre>
<pre class="cmd cmdc"><code><b>''</b>{«attribute specifications»}
<b>|^</b>{«attribute specifications»}
  <b>//</b>{«attribute specifications»}
    <b>;</b>{«attribute specifications»} «item»
    <b>,</b>{«attribute specifications»} «item»
    «...»
  «...»
<b>|:</b>{«attribute specifications»}
  «...»
<b>|_</b>{«attribute specifications»}
  «...»
<b>''</b>
</code></pre>
<ul>
<li>
The number of single-quotes <code class="cmd cmdc"><b>'</b></code>
may be increased arbitrarily.
</li>
<li>
Table parts:
<ul>
<li>
<code class="cmd cmdc"><b>|^</b></code> for table head, see <a href="#table-head"><code>#table-head</code></a>.
</li>
<li>
<code class="cmd cmdc"><b>|:</b></code> for table body, see <a href="#table-body"><code>#table-body</code></a>.
</li>
<li>
<code class="cmd cmdc"><b>|:</b></code> for table foot, see <a href="#table-foot"><code>#table-foot</code></a>.
</li>
</ul>
</li>
<li>
Table cells:
<ul>
<li>
<code class="cmd cmdc"><b>;</b></code> for table headers, see <a href="#table-headers"><code>#table-headers</code></a>.
</li>
<li>
<code class="cmd cmdc"><b>,</b></code> for table data, see <a href="#table-data"><code>#table-data</code></a>.
</li>
</ul>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a table:
</p>
<pre class="html"><code><b>&lt;table</b>«attribute sequence»<b>&gt;</b>
«...»
<b>&lt;/table&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Table without parts:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>''
//
  ; A
  , 1
//
  ; B
  , 2
''
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;A&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;B&lt;/th&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</code></pre>
</li>
<li>
Rendered:
<div class="wide">
<table>
<tr>
<th>A</th>
<td>1</td>
</tr>
<tr>
<th>B</th>
<td>2</td>
</tr>
</table>
</div>
</li>
</ul>
</li>
<li>
Table with head and body:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>''
|^
  //
    ; A
    ; B
|:
  //
    , 1
    , 2
  //
    , First
    , Second
''
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;A&lt;/th&gt;
&lt;th&gt;B&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;First&lt;/td&gt;
&lt;td&gt;Second&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</code></pre>
</li>
<li>
Rendered:
<div class="wide">
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>First</td>
<td>Second</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</li>
<li>
Cell merging
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>''
//
  ,{c3} 3*1
  , 14
//
  , 21
  , 22
  , 23
  , 24
//
  ,{rowspan=2 colspan="2"} 2*2
  , 33
  ,{r2} 2*1
//
  , 43
''
</code></pre>
</li>
<li>
Rendered
<div class="wide">
<table>
<tr>
<td colspan="3">3*1</td>
<td>14</td>
</tr>
<tr>
<td>21</td>
<td>22</td>
<td>23</td>
<td>24</td>
</tr>
<tr>
<td rowspan="2" colspan="2">2*2</td>
<td>33</td>
<td rowspan="2">2*1</td>
</tr>
<tr>
<td>43</td>
</tr>
</table>
</div>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="headings"><a href="#headings" class="permalink" aria-label="Permalink"></a>9. <code>#headings</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>HeadingReplacement: #headings
- queue_position: AFTER #tables
- attribute_specifications: EMPTY
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>#</b> «content»
</code></pre>
<pre class="cmd cmdc"><code><b>#</b>{«attribute specifications»} «content»
</code></pre>
<ul>
<li>
The number of hashes <code class="cmd cmdc"><b>#</b></code> may be between 1 and 6.
</li>
<li>
<code class="cmd cmdc">«content»</code> may be optionally closed by hashes.
</li>
<li>
For continuation of <code class="cmd cmdc">«content»</code>,
indent the continuation more than the leading hashes.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a heading:
</p>
<pre class="html"><code><b>&lt;h«hash count»&gt;</b>«content»<b>&lt;/h«hash count»&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Empty headings:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>#
##
###
####
#####
######
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;h1&gt;&lt;/h1&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;/h3&gt;
&lt;h4&gt;&lt;/h4&gt;
&lt;h5&gt;&lt;/h5&gt;
&lt;h6&gt;&lt;/h6&gt;
</code></pre>
</li>
</ul>
</li>
<li>
Non-empty headings require whitespace after the hashes:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>## OK
#lacks-whitespace
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;h2&gt;OK&lt;/h2&gt;
#lacks-whitespace
</code></pre>
</li>
</ul>
</li>
<li>
Optional closing hashes:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>## Closed ##
## Fewer closing hashes is OK #
## More closing hashes is OK ###
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;h2&gt;Closed&lt;/h2&gt;
&lt;h2&gt;Fewer closing hashes is OK&lt;/h2&gt;
&lt;h2&gt;More closing hashes is OK&lt;/h2&gt;
</code></pre>
</li>
</ul>
</li>
<li>
Continuation:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>##{.interesting-heading-class}
  This heading is so long, I have used continuation.
  Second continuation line.
This line is not a continuation due to insufficient indentation.
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;h2 class="interesting-heading-class"&gt;
This heading is so long, I have used continuation.
Second continuation line.&lt;/h2&gt;
This line is not a continuation due to insufficient indentation.
</code></pre>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="paragraphs"><a href="#paragraphs" class="permalink" aria-label="Permalink"></a>10. <code>#paragraphs</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #paragraphs
- queue_position: AFTER #headings
- syntax_type: BLOCK
- extensible_delimiter: --
- attribute_specifications: EMPTY
- prohibited_content: BLOCKS
- content_replacements:
    #prepend-newline
- tag_name: p
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>--</b>
«content»
<b>--</b>
</code></pre>
<pre class="cmd cmdc"><code><b>--</b>{«attribute specifications»}
«content»
<b>--</b>
</code></pre>
<ul>
<li>
The number of hyphens <code class="cmd cmdc"><b>-</b></code> may be increased arbitrarily.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a paragraph:
</p>
<pre class="html"><code><b>&lt;p</b>«attribute sequence»<b>&gt;</b>
«content»
<b>&lt;/p&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Paragraph:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>--
The quick brown fox etc. etc.
--
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;p&gt;
The quick brown fox etc. etc.
&lt;/p&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
The quick brown fox etc. etc.
</p>
</li>
</ul>
</li>
<li>
Paragraphs cannot be nested:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>----
Before.
--
Not a nested paragraph.
--
After.
----
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;p&gt;
Before.
--
Not a nested paragraph.
--
After.
&lt;/p&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
Before.
--
Not a nested paragraph.
--
After.
</p>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="inline-code"><a href="#inline-code" class="permalink" aria-label="Permalink"></a>11. <code>#inline-code</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #inline-code
- queue_position: AFTER #paragraphs
- syntax_type: INLINE
- allowed_flags:
    u=KEEP_HTML_UNESCAPED
    i=KEEP_INDENTED
    w=REDUCE_WHITESPACE
- extensible_delimiter: `
- attribute_specifications: EMPTY
- prohibited_content: ANCHORED_BLOCKS
- content_replacements:
    #escape-html
    #de-indent
    #trim-whitespace
    #reduce-whitespace
    #placeholder-protect
- tag_name: code
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>`</b> «content» <b>`</b>
</code></pre>
<pre class="cmd cmdc"><code><b>`</b>{«attribute specifications»} «content» <b>`</b>
</code></pre>
<pre class="cmd cmdc"><code>«flags»<b>`</b> «content» <b>`</b>
</code></pre>
<pre class="cmd cmdc"><code>«flags»<b>`</b>{«attribute specifications»} «content» <b>`</b>
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«flags»</code>:
<ul>
<li>
<code class="cmd cmdc">u</code>: keep HTML unescaped (do not apply <a href="#escape-html"><code>#escape-html</code></a>)
</li>
<li>
<code class="cmd cmdc">i</code>: keep indented (do not apply <a href="#de-indent"><code>#de-indent</code></a>)
</li>
<li>
<code class="cmd cmdc">w</code>: reduce whitespace (apply <a href="#reduce-whitespace"><code>#reduce-whitespace</code></a>)
</li>
</ul>
</li>
<li>
The number of backticks <code class="cmd cmdc"><b>`</b></code>
may be increased arbitrarily.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces inline code:
</p>
<pre class="html"><code><b>&lt;code</b>«attribute sequence»<b>&gt;</b>«content»<b>&lt;/code&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Code:
<ul>
<li>
CMD: <code class="cmd cmdc">`&lt;br&gt;`</code>
</li>
<li>
HTML: <code class="html">&lt;code&gt;&amp;lt;br&amp;gt;&lt;/code&gt;</code>
</li>
<li>
Rendered: <code>&lt;br&gt;</code>
</li>
</ul>
</li>
<li>
Code containing backticks:
<ul>
<li>
CMD: <code class="cmd cmdc">``A `backticked` word.``</code>
</li>
<li>
HTML: <code class="html">&lt;code&gt;A `backticked` word.&lt;/code&gt;</code>
</li>
<li>
Rendered: <code>A `backticked` word.</code>
</li>
</ul>
</li>
<li>
Use <a href="#literals"><code>#literals</code></a> with flag <code class="cmd cmdc">u</code> to inject HTML:
<ul>
<li>
CMD: <code class="cmd cmdc">`Some u&lt;`&lt;b&gt;bold&lt;/b&gt;`&gt; code`</code>
</li>
<li>
HTML: <code class="html">&lt;code&gt;Some &lt;b&gt;bold&lt;/b&gt; code&lt;/code&gt;</code>
</li>
<li>
Rendered: <code>Some <b>bold</b> code</code>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="boilerplate"><a href="#boilerplate" class="permalink" aria-label="Permalink"></a>12. <code>#boilerplate</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #boilerplate
- queue_position: AFTER #inline-code
* \A --&gt;
    &lt;!DOCTYPE html&gt;
    &lt;html lang="%lang"&gt;
      &lt;head&gt;
        &lt;meta charset="utf-8"&gt;
        %head-elements-before-viewport
        &lt;meta name="viewport" content="%viewport-content"&gt;
        %head-elements-after-viewport
        &lt;title&gt;%title&lt;/title&gt;
        &lt;style&gt;
          %styles
        &lt;/style&gt;
      &lt;/head&gt;
      &lt;body&gt;\n
* \Z --&gt;
      &lt;/body&gt;
    &lt;/html&gt;\n
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Wraps content in the HTML5 boilerplate:
</p>
<ul>
<li>
<code class="html">&lt;!DOCTYPE html&gt;</code> through <code class="html">&lt;body&gt;</code> at the start
</li>
<li>
<code class="html">&lt;/body&gt;&lt;/html&gt;</code> at the end
</li>
</ul>
<p>
The default boilerplate properties
<code class="cmd cmdc">%lang</code>,
<code class="cmd cmdc">%head-elements-before-viewport</code>,
<code class="cmd cmdc">%viewport-content</code>,
<code class="cmd cmdc">%head-elements-after-viewport</code>,
<code class="cmd cmdc">%title</code>, and
<code class="cmd cmdc">%styles</code>
are set in <a href="#boilerplate-properties"><code>#boilerplate-properties</code></a>.
</p>
</details>
<h4 id="boilerplate-properties"><a href="#boilerplate-properties" class="permalink" aria-label="Permalink"></a>13. <code>#boilerplate-properties</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>OrdinaryDictionaryReplacement: #boilerplate-properties
- queue_position: AFTER #boilerplate
* %lang --&gt; en
* %head-elements-before-viewport --&gt;
* %viewport-content --&gt; width=device-width, initial-scale=1
* %head-elements-after-viewport --&gt;
* %title --&gt; Title
* %styles --&gt;
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Makes replacements for the default boilerplate properties:
</p>
<div class="wide">
<table>
<thead>
<tr>
<th>Property</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="cmd cmdc">%lang</code></td>
<td><code class="html">en</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">%head-elements-before-viewport</code></td>
<td>(empty)</td>
</tr>
<tr>
<td><code class="cmd cmdc">%viewport-content</code></td>
<td><code class="html">width=device-width, initial-scale=1</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">%head-elements-after-viewport</code></td>
<td>(empty)</td>
</tr>
<tr>
<td><code class="cmd cmdc">%title</code></td>
<td><code class="html">Title</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">%styles</code></td>
<td>(empty)</td>
</tr>
</tbody>
</table>
</div>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Defaults:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code># %title
This document hath `lang` equal to &lt;code&gt;%lang&lt;/code&gt;.
</code></pre>
</li>
<li>
HTML (including boilerplate):
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Title&lt;/h1&gt;
This document hath &lt;code&gt;lang&lt;/code&gt; equal to &lt;code&gt;en&lt;/code&gt;.
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
</ul>
</li>
<li>
Override the defaults:
<ul>
<li>
CMD:
<pre class="cmd"><code><span class="cmdr">OrdinaryDictionaryReplacement: #.boilerplate-properties-override
- queue_position: BEFORE #boilerplate-properties
* %lang --&gt; en-AU
* %head-elements-before-viewport --&gt; &lt;meta name="author" content="Me"&gt;
* %title --&gt; Overridden title</span>

%%%

<span class="cmdc"># %title
This document hath `lang` equal to &lt;code&gt;%lang&lt;/code&gt;.</span>
</code></pre>
</li>
<li>
HTML (including boilerplate):
<pre class="html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en-AU"&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta name="author" content="Me"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;title&gt;Overridden title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Overridden title&lt;/h1&gt;
This document hath &lt;code&gt;lang&lt;/code&gt; equal to &lt;code&gt;en-AU&lt;/code&gt;.
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="cmd-properties"><a href="#cmd-properties" class="permalink" aria-label="Permalink"></a>14. <code>#cmd-properties</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>OrdinaryDictionaryReplacement: #cmd-properties
- queue_position: AFTER #boilerplate-properties
* %cmd-version --&gt; CMD_VERSION
* %cmd-name --&gt; CMD_NAME
* %cmd-basename --&gt; CMD_BASENAME
* %clean-url --&gt; CLEAN_URL
- concluding_replacements:
    #placeholder-protect
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Makes replacements for CMD properties:
</p>
<div class="wide">
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="cmd cmdc">%cmd-version</code></td>
<td><code>__version__</code> in <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py"><code>cmd.py</code></a>
(currently <code class="html">4.5.0</code>)</td>
</tr>
<tr>
<td><code class="cmd cmdc">%cmd-name</code></td>
<td>CMD file name, relative to working directory, without extension</td>
</tr>
<tr>
<td><code class="cmd cmdc">%cmd-basename</code></td>
<td>CMD file name, without path, without extension</td>
</tr>
<tr>
<td><code class="cmd cmdc">%clean-url</code></td>
<td><code class="cmd cmdc">%cmd-name</code>,
with <code class="cmd cmdc">%cmd-basename</code> removed if it equals <code>index</code></td>
</tr>
</tbody>
</table>
</div>
</details>
<h4 id="boilerplate-protect"><a href="#boilerplate-protect" class="permalink" aria-label="Permalink"></a>15. <code>#boilerplate-protect</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #boilerplate-protect
- queue_position: AFTER #cmd-properties
* &lt;style&gt;[\s]*?&lt;/style&gt;[\s]* --&gt;
* &lt;style&gt;[\s\S]*?&lt;/style&gt; --&gt; \g&lt;0&gt;
* &lt;head&gt;[\s\S]*?&lt;/head&gt; --&gt; \g&lt;0&gt;
- concluding_replacements:
    #reduce-whitespace
    #placeholder-protect
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Protects boilerplate elements:
</p>
<ul>
<li>
Removes empty <code>&lt;style&gt;</code> element
</li>
<li>
Protects <code>&lt;style&gt;</code> element
</li>
<li>
Protects <code>&lt;head&gt;</code> element
</li>
</ul>
</details>
<h4 id="backslash-escapes"><a href="#backslash-escapes" class="permalink" aria-label="Permalink"></a>16. <code>#backslash-escapes</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>OrdinaryDictionaryReplacement: #backslash-escapes
- queue_position: AFTER #boilerplate-protect
* \\ --&gt; \
* \" --&gt; "
* \# --&gt; #
* \&amp; --&gt; &amp;amp;
* \' --&gt; '
* \( --&gt; (
* \) --&gt; )
* \* --&gt; *
* \&lt; --&gt; &amp;lt;
* \&gt; --&gt; &amp;gt;
* \[ --&gt; [
* \] --&gt; ]
* \_ --&gt; _
* \{ --&gt; {
* \| --&gt; |
* \} --&gt; }
* "\ " --&gt; " "
* \t --&gt; "	"
- concluding_replacements:
    #placeholder-protect
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Applies backslash escapes:
</p>
<div class="wide">
<table>
<thead>
<tr>
<th>Escaped</th>
<th>Unescaped</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="cmd cmdc">\\</code></td>
<td><code class="html">\</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\"</code></td>
<td><code class="html">"</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\#</code></td>
<td><code class="html">#</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\&amp;</code></td>
<td><code class="html">&amp;amp;</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\'</code></td>
<td><code class="html">'</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\(</code></td>
<td><code class="html">(</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\)</code></td>
<td><code class="html">)</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\*</code></td>
<td><code class="html">*</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\&lt;</code></td>
<td><code class="html">&amp;lt;</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\&gt;</code></td>
<td><code class="html">&amp;gt;</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\[</code></td>
<td><code class="html">[</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\]</code></td>
<td><code class="html">]</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\_</code></td>
<td><code class="html">_</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\{</code></td>
<td><code class="html">{</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\|</code></td>
<td><code class="html">|</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\}</code></td>
<td><code class="html">}</code></td>
</tr>
<tr>
<td><code class="cmd cmdc">\ </code></td>
<td>(space)</td>
</tr>
<tr>
<td><code class="cmd cmdc">\t</code></td>
<td>(tab)</td>
</tr>
</tbody>
</table>
</div>
</details>
<h4 id="backslash-continuations"><a href="#backslash-continuations" class="permalink" aria-label="Permalink"></a>17. <code>#backslash-continuations</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #backslash-continuations
- queue_position: AFTER #backslash-escapes
* \\ \n [^\S\n]* --&gt;
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Applies backslash continuation.
</p>
</details>
<h4 id="reference-definitions"><a href="#reference-definitions" class="permalink" aria-label="Permalink"></a>18. <code>#reference-definitions</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ReferenceDefinitionReplacement: #reference-definitions
- queue_position: AFTER #backslash-continuations
- attribute_specifications: EMPTY
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>[</b>«label»<b>]</b><b>:</b> «uri»
<b>[</b>«label»<b>]</b><b>:</b> <b>&lt;</b>«uri»<b>&gt;</b>
</code></pre>
<pre class="cmd cmdc"><code><b>[</b>«label»<b>]</b><b>:</b> «...» <b>"</b>«title»<b>"</b>
<b>[</b>«label»<b>]</b><b>:</b> «...» <b>'</b>«title»<b>'</b>
</code></pre>
<pre class="cmd cmdc"><code><b>[</b>«label»<b>]</b>{«attribute specifications»}<b>:</b> «...»
</code></pre>
<ul>
<li>
For continuation of <code class="cmd cmdc">«uri»</code> or <code class="cmd cmdc">«title»</code>,
indent the continuation more than the leading square bracket.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a reference, to be used by
<a href="#referenced-images"><code>#referenced-images</code></a> or <a href="#referenced-links"><code>#referenced-links</code></a>.
</p>
</details>
<h4 id="specified-images"><a href="#specified-images" class="permalink" aria-label="Permalink"></a>19. <code>#specified-images</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>SpecifiedImageReplacement: #specified-images
- queue_position: AFTER #reference-definitions
- attribute_specifications: EMPTY
- prohibited_content: BLOCKS
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>!</b><b>[</b>«alt text»<b>]</b><b>(</b>«src»<b>)</b>
<b>!</b><b>[</b>«alt text»<b>]</b><b>(</b><b>&lt;</b>«src»<b>&gt;</b><b>)</b>
</code></pre>
<pre class="cmd cmdc"><code><b>!</b><b>[</b>«alt text»<b>]</b><b>(</b>«...» <b>"</b>«title»<b>"</b><b>)</b>
<b>!</b><b>[</b>«alt text»<b>]</b><b>(</b>«...» <b>'</b>«title»<b>'</b><b>)</b>
</code></pre>
<pre class="cmd cmdc"><code><b>!</b><b>[</b>«alt text»<b>]</b>{«attribute specifications»}<b>(</b>«...»<b>)</b>
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces an image:
</p>
<pre class="html"><code><b>&lt;img</b>«attribute sequence»<b>&gt;</b>
</code></pre>
<p>
Here, <code class="html">«attribute sequence»</code> is the sequence of attributes
built from
</p>
<ul>
<li>
<code class="cmd cmdc">«alt text»</code>
</li>
<li>
<code class="cmd cmdc">«src»</code>
</li>
<li>
<code class="cmd cmdc">«title»</code>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>
</li>
</ul>
<p>
parsed in that order.
</p>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Basic usage:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>![Rembrandt painting: The Anatomy Lesson of Dr Nicolaes Tulp.](rembrandt-anatomy.jpg)
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;img alt="Rembrandt painting: The Anatomy Lesson of Dr Nicolaes Tulp." src="rembrandt-anatomy.jpg"&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<img alt="Rembrandt painting: The Anatomy Lesson of Dr Nicolaes Tulp." src="rembrandt-anatomy.jpg">
</p>
</li>
</ul>
</li>
<li>
Set width:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>![Rembrandt painting: The Anatomy Lesson of Dr Nicolaes Tulp.]{w=120}(rembrandt-anatomy.jpg)
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;img alt="Rembrandt painting: The Anatomy Lesson of Dr Nicolaes Tulp." src="rembrandt-anatomy.jpg" width="120"&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<img alt="Rembrandt painting: The Anatomy Lesson of Dr Nicolaes Tulp." src="rembrandt-anatomy.jpg" width="120">
</p>
</li>
</ul>
</li>
<li>
Empty alt text for decorative images,
or images where adjacent text already describes the image:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>![](/favicon-16x16.png) Conway-Markdown is dumb.
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;img alt="" src="/favicon-16x16.png"&gt; Conway-Markdown is dumb.
</code></pre>
</li>
<li>
Rendered:
<p>
<img alt="" src="/favicon-16x16.png"> Conway-Markdown is dumb.
</p>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="referenced-images"><a href="#referenced-images" class="permalink" aria-label="Permalink"></a>20. <code>#referenced-images</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ReferencedImageReplacement: #referenced-images
- queue_position: AFTER #specified-images
- attribute_specifications: EMPTY
- prohibited_content: BLOCKS
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>!</b><b>[</b>«alt text»<b>]</b><b>[</b>«label»<b>]</b>
<b>!</b><b>[</b>«alt text»<b>]</b>
</code></pre>
<pre class="cmd cmdc"><code><b>!</b><b>[</b>«alt text»<b>]</b>{«attribute specifications»}<b>[</b>«label»<b>]</b>
<b>!</b><b>[</b>«alt text»<b>]</b>{«attribute specifications»}
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«label»</code>: must correspond to a defined
<a href="#reference-definitions">reference definition</a>, up to case.
If <code class="cmd cmdc">«label»</code> is omitted,
<code class="cmd cmdc">«alt text»</code> is used in its stead.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces an image:
</p>
<pre class="html"><code><b>&lt;img</b>«attribute sequence»<b>&gt;</b>
</code></pre>
<p>
Here, <code class="html">«attribute sequence»</code> is the sequence of attributes
built from
</p>
<ul>
<li>
<code class="cmd cmdc">«alt text»</code>
</li>
<li>
<code class="cmd cmdc">«src»</code> equal to <code class="cmd cmdc">«uri»</code>
of the <a href="#reference-definitions">reference definition</a>
defined for <code class="cmd cmdc">«label»</code>
</li>
<li>
<code class="cmd cmdc">«title»</code>
of the <a href="#reference-definitions">reference definition</a>
defined for <code class="cmd cmdc">«label»</code>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>
of the <a href="#reference-definitions">reference definition</a>
defined for <code class="cmd cmdc">«label»</code>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>
</li>
</ul>
<p>
parsed in that order.
</p>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Basic usage:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[moses]: rembrandt-moses.jpg

![Rembrandt painting: Moses Breaking the Tablets of the Law.][moses]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;img alt="Rembrandt painting: Moses Breaking the Tablets of the Law." src="rembrandt-moses.jpg"&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<img alt="Rembrandt painting: Moses Breaking the Tablets of the Law." src="rembrandt-moses.jpg">
</p>
</li>
</ul>
</li>
<li>
Use <code class="cmd cmdc">«alt text»</code> for <code class="cmd cmdc">«label»</code>:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[Conway-Markdown logo.]: /favicon-32x32.png "Conway-Markdown is dumb."

![Conway-Markdown logo.]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;img alt="Conway-Markdown logo." src="/favicon-32x32.png" title="Conway-Markdown is dumb."&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<img alt="Conway-Markdown logo." src="/favicon-32x32.png" title="Conway-Markdown is dumb.">
</p>
</li>
</ul>
</li>
<li>
<code class="cmd cmdc">«label»</code> is case-insensitive:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[image-label-case]: insensitive.png

[Hooray.][image-label-case]
[Hooray.][image-label-CASE]
[Hooray.][ImAGe-laBEl-CAsE]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="insensitive.png"&gt;Hooray.&lt;/a&gt;
&lt;a href="insensitive.png"&gt;Hooray.&lt;/a&gt;
&lt;a href="insensitive.png"&gt;Hooray.&lt;/a&gt;
</code></pre>
</li>
</ul>
</li>
<li>
Later reference definitions prevail:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[image-label]{.class1}: file1.png
[image-label]{.class2}: file2.png

[Second definition wins.][image-label]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="file2.png" class="class2"&gt;Second definition wins.&lt;/a&gt;
</code></pre>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="explicit-links"><a href="#explicit-links" class="permalink" aria-label="Permalink"></a>21. <code>#explicit-links</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ExplicitLinkReplacement: #explicit-links
- queue_position: AFTER #referenced-images
- allowed_flags:
    b=ANGLE_BRACKET_WRAP
    s=SUPPRESS_SCHEME
- attribute_specifications: EMPTY
- content_replacements:
    #suppress-scheme
- concluding_replacements:
    #angle-bracket-wrap
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>&lt;</b>«uri»<b>&gt;</b>
</code></pre>
<pre class="cmd cmdc"><code><b>&lt;</b>{«attribute specifications»} «uri»<b>&gt;</b>
</code></pre>
<pre class="cmd cmdc"><code>«flags»<b>&lt;</b>«uri»<b>&gt;</b>
</code></pre>
<pre class="cmd cmdc"><code>«flags»<b>&lt;</b>{«attribute specifications»} «uri»<b>&gt;</b>
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«flags»</code>:
<ul>
<li>
<code class="cmd cmdc">b</code>: wrap in angle brackets (apply <a href="#angle-bracket-wrap"><code>#angle-bracket-wrap</code></a>)
</li>
<li>
<code class="cmd cmdc">s</code>: suppress scheme (apply <a href="#suppress-scheme"><code>#suppress-scheme</code></a>)
</li>
</ul>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a link:
</p>
<pre class="html"><code><b>&lt;a</b>«attribute sequence»<b>&gt;</b>«uri»<b>&lt;/a&gt;</b>
</code></pre>
<p>
Or:
</p>
<pre class="html"><code><b>&amp;lt;&lt;a</b>«attribute sequence»<b>&gt;</b>«uri»<b>&lt;/a&gt;&amp;gt;</b>
</code></pre>
<p>
Here, <code class="html">«attribute sequence»</code> is the sequence of attributes
built from
</p>
<ul>
<li>
<code class="cmd cmdc">«uri»</code> as <code>href</code>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>
</li>
</ul>
<p>
parsed in that order.
</p>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Basic usage:
<ul>
<li>
CMD: <code class="cmd cmdc">&lt;https://example.com&gt;</code>
</li>
<li>
HTML: <code class="html">&lt;a href="https://example.com"&gt;https://example.com&lt;/a&gt;</code>
</li>
<li>
Rendered: <a href="https://example.com">https://example.com</a>
</li>
</ul>
</li>
<li>
Wrap in angle brackets:
<ul>
<li>
CMD: <code class="cmd cmdc">b&lt;https://example.com&gt;</code>
</li>
<li>
HTML: <code class="html">&amp;lt;&lt;a href="https://example.com"&gt;https://example.com&lt;/a&gt;&amp;gt;</code>
</li>
<li>
Rendered: &lt;<a href="https://example.com">https://example.com</a>&gt;
</li>
</ul>
</li>
<li>
Suppress scheme:
<ul>
<li>
CMD: <code class="cmd cmdc">s&lt;https://example.com&gt;</code>
</li>
<li>
HTML: <code class="html">&lt;a href="https://example.com"&gt;example.com&lt;/a&gt;</code>
</li>
<li>
Rendered: <a href="https://example.com">example.com</a>
</li>
</ul>
</li>
<li>
<i lang="es">¿Por qué no los dos?</i>
<ul>
<li>
CMD: <code class="cmd cmdc">bs&lt;https://example.com&gt;</code>
</li>
<li>
HTML: <code class="html">&amp;lt;&lt;a href="https://example.com"&gt;example.com&lt;/a&gt;&amp;gt;</code>
</li>
<li>
Rendered: &lt;<a href="https://example.com">example.com</a>&gt;
</li>
</ul>
</li>
<li>
Invitation to spammers:
<ul>
<li>
CMD: <code class="cmd cmdc">s&lt;mailto:mail@example.com&gt;</code>
</li>
<li>
HTML: <code class="html">&lt;a href="mailto:mail@example.com"&gt;mail@example.com&lt;/a&gt;</code>
</li>
<li>
Rendered: <a href="mailto:mail@example.com">mail@example.com</a>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="specified-links"><a href="#specified-links" class="permalink" aria-label="Permalink"></a>22. <code>#specified-links</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>SpecifiedLinkReplacement: #specified-links
- queue_position: AFTER #explicit-links
- attribute_specifications: EMPTY
- prohibited_content: BLOCKS
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>[</b>«link text»<b>]</b><b>(</b>«href»<b>)</b>
<b>[</b>«link text»<b>]</b><b>(</b><b>&lt;</b>«href»<b>&gt;</b><b>)</b>
</code></pre>
<pre class="cmd cmdc"><code><b>[</b>«link text»<b>]</b><b>(</b>«...» <b>"</b>«title»<b>"</b><b>)</b>
<b>[</b>«link text»<b>]</b><b>(</b>«...» <b>'</b>«title»<b>'</b><b>)</b>
</code></pre>
<pre class="cmd cmdc"><code><b>[</b>«link text»<b>]</b>{«attribute specifications»}<b>(</b>«...»<b>)</b>
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a link:
</p>
<pre class="html"><code><b>&lt;a</b>«attribute sequence»<b>&gt;</b>«link text»<b>&lt;/a&gt;</b>
</code></pre>
<p>
Here, <code class="html">«attribute sequence»</code> is the sequence of attributes
built from
</p>
<ul>
<li>
<code class="cmd cmdc">«href»</code>
</li>
<li>
<code class="cmd cmdc">«title»</code>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>
</li>
</ul>
<p>
parsed in that order.
</p>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Basic usage:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[Wikipedia](https://en.wikipedia.org/wiki/Main_Page)
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="https://en.wikipedia.org/wiki/Main_Page"&gt;Wikipedia&lt;/a&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<a href="https://en.wikipedia.org/wiki/Main_Page">Wikipedia</a>
</p>
</li>
</ul>
</li>
<li>
Title:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[Wikipedia](
  https://en.wikipedia.org/wiki/Main_Page
  "Wikipedia, the free encyclopedia"
)
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="https://en.wikipedia.org/wiki/Main_Page" title="Wikipedia, the free encyclopedia"&gt;Wikipedia&lt;/a&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<a href="https://en.wikipedia.org/wiki/Main_Page" title="Wikipedia, the free encyclopedia">Wikipedia</a>
</p>
</li>
</ul>
</li>
<li>
Override <code>href</code>
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[Beware]{href=https://example.com/evil/}(https://example.com/good/)
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="https://example.com/evil/"&gt;Beware&lt;/a&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<a href="https://example.com/evil/">Beware</a>
</p>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="referenced-links"><a href="#referenced-links" class="permalink" aria-label="Permalink"></a>23. <code>#referenced-links</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ReferencedLinkReplacement: #referenced-links
- queue_position: AFTER #specified-links
- attribute_specifications: EMPTY
- prohibited_content: BLOCKS
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>[</b>«link text»<b>]</b><b>[</b>«label»<b>]</b>
<b>[</b>«link text»<b>]</b>
</code></pre>
<pre class="cmd cmdc"><code><b>[</b>«link text»<b>]</b>{«attribute specifications»}<b>[</b>«label»<b>]</b>
<b>[</b>«link text»<b>]</b>{«attribute specifications»}
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«label»</code>: must correspond to a defined
<a href="#reference-definitions">reference definition</a>, up to case.
If <code class="cmd cmdc">«label»</code> is omitted,
<code class="cmd cmdc">«link text»</code> is used in its stead.
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces a link:
</p>
<pre class="html"><code><b>&lt;a</b>«attribute sequence»<b>&gt;</b>«link text»<b>&lt;/a&gt;</b>
</code></pre>
<p>
Here, <code class="html">«attribute sequence»</code> is the sequence of attributes
built from
</p>
<ul>
<li>
<code class="cmd cmdc">«href»</code> equal to <code class="cmd cmdc">«uri»</code>
of the <a href="#reference-definitions">reference definition</a>
defined for <code class="cmd cmdc">«label»</code>
</li>
<li>
<code class="cmd cmdc">«title»</code>
of the <a href="#reference-definitions">reference definition</a>
defined for <code class="cmd cmdc">«label»</code>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>
of the <a href="#reference-definitions">reference definition</a>
defined for <code class="cmd cmdc">«label»</code>
</li>
<li>
<code class="cmd cmdc">«attribute specifications»</code>
</li>
</ul>
<p>
parsed in that order.
</p>
</details>
<details open>
<summary>Examples</summary>
<ol>
<li>
Basic usage:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[wiki]: https://en.wikipedia.org/wiki/Main_Page

[Wikipedia's main page.][wiki]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="https://en.wikipedia.org/wiki/Main_Page"&gt;Wikipedia's main page.&lt;/a&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<a href="https://en.wikipedia.org/wiki/Main_Page">Wikipedia's main page.</a>
</p>
</li>
</ul>
</li>
<li>
Use <code class="cmd cmdc">«link text»</code> for <code class="cmd cmdc">«label»</code>:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[Wikipedia]: https://en.wikipedia.org/wiki/Main_Page

[Wikipedia]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="https://en.wikipedia.org/wiki/Main_Page"&gt;Wikipedia&lt;/a&gt;
</code></pre>
</li>
<li>
Rendered:
<p>
<a href="https://en.wikipedia.org/wiki/Main_Page">Wikipedia</a>
</p>
</li>
</ul>
</li>
<li>
<code class="cmd cmdc">«label»</code> is case-insensitive:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[link-label-case]: https://example.com

[Hooray.][link-label-case]
[Hooray.][link-label-CASE]
[Hooray.][LiNK-laBEl-CAsE]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="https://example.com"&gt;Hooray.&lt;/a&gt;
&lt;a href="https://example.com"&gt;Hooray.&lt;/a&gt;
&lt;a href="https://example.com"&gt;Hooray.&lt;/a&gt;
</code></pre>
</li>
</ul>
</li>
<li>
Later reference definitions prevail:
<ul>
<li>
CMD:
<pre class="cmd cmdc"><code>[link-label]{.class1}: https://example.com/1
[link-label]{.class2}: https://example.com/2

[Second definition wins.][link-label]
</code></pre>
</li>
<li>
HTML:
<pre class="html"><code>&lt;a href="https://example.com/2" class="class2"&gt;Second definition wins.&lt;/a&gt;
</code></pre>
</li>
</ul>
</li>
</ol>
</details>
<h4 id="inline-semantics"><a href="#inline-semantics" class="permalink" aria-label="Permalink"></a>24. <code>#inline-semantics</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>InlineAssortedDelimitersReplacement: #inline-semantics
- queue_position: AFTER #referenced-links
- delimiter_conversion:
    __=b
    _=i
    **=strong
    *=em
    ''=cite
    ""=q
- attribute_specifications: EMPTY
- prohibited_content: BLOCKS
</code></pre>
</details>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdc"><code><b>__</b>«b content»<b>__</b>
<b>_</b>«i content»<b>_</b>
<b>**</b>«strong content»<b>**</b>
<b>*</b>«em content»<b>*</b>
<b>''</b>«cite content»<b>''</b>
<b>""</b>«q content»<b>""</b>
</code></pre>
<pre class="cmd cmdc"><code><b>«...»</b>{«attribute specifications»} «content»<b>«...»</b>
</code></pre>
<pre class="cmd cmdc"><code><b>|</b><b>«...»</b>«content»<b>«...»</b>
</code></pre>
<pre class="cmd cmdc"><code><b>|</b><b>«...»</b>{«attribute specifications»} «content»<b>«...»</b>
</code></pre>
<ul>
<li>
<code class="cmd cmdc">«attribute specifications»</code>:
see <a href="#cmd-attribute-specifications">CMD attribute specifications</a>.
</li>
<li>
The leading optional pipe is to be used
as a disambiguator in some edge cases.
If present, it indicates that the delimiter directly after it
is opening rather than closing.
</li>
<li>
The opening delimiter must not be followed by whitespace,
nor by <code class="html">&lt;/</code> (the beginning of a closing tag).
</li>
<li>
The closing delimiter must not be preceded by whitespace,
nor by a pipe <code class="cmd cmdc">|</code>.
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Produces an inline semantic:
</p>
<pre class="html"><code><b>&lt;b</b>«attribute sequence»<b>&gt;</b>«b content»<b>&lt;/b&gt;</b>
<b>&lt;i</b>«attribute sequence»<b>&gt;</b>«i content»<b>&lt;/i&gt;</b>
<b>&lt;strong</b>«attribute sequence»<b>&gt;</b>«strong content»<b>&lt;/strong&gt;</b>
<b>&lt;em</b>«attribute sequence»<b>&gt;</b>«em content»<b>&lt;/em&gt;</b>
<b>&lt;cite</b>«attribute sequence»<b>&gt;</b>«cite content»<b>&lt;/cite&gt;</b>
<b>&lt;q</b>«attribute sequence»<b>&gt;</b>«q content»<b>&lt;/q&gt;</b>
</code></pre>
</details>
<details open>
<summary>Examples</summary>
<p>
In HTML5, <code class="html">&lt;b&gt;</code> and <code class="html">&lt;i&gt;</code> are <em>not</em> deprecated,
see <a href="https://www.w3.org/International/questions/qa-b-and-i-tags.en">W3C: Using <code class="html">&lt;b&gt;</code> and <code class="html">&lt;i&gt;</code> elements</a>.
</p>
<ol>
<li>
Bring to attention <code class="html">&lt;b&gt;</code>:
<ol type="i">
<li>
Keywords:
<ul>
<li>
CMD: <code class="cmd cmdc">Meals are served with __rice__ or __pasta__.</code>
</li>
<li>
HTML: <code class="html">Meals are served with &lt;b&gt;rice&lt;/b&gt; or &lt;b&gt;pasta&lt;/b&gt;.</code>
</li>
<li>
Rendered: Meals are served with <b>rice</b> or <b>pasta</b>.
</li>
</ul>
</li>
</ol>
</li>
<li>
Idiomatic offset <code class="html">&lt;i&gt;</code>:
<ol type="i">
<li>
Foreign phrases:
<ul>
<li>
CMD: <code class="cmd cmdc">Write out _{lang=la} Romani ite domum_ 100 times.</code>
</li>
<li>
HTML: <code class="html">Write out &lt;i lang="la"&gt;Romani ite domum&lt;/i&gt; 100 times.</code>
</li>
<li>
Rendered: Write out <i lang="la">Romani ite domum</i> 100 times.
</li>
</ul>
</li>
<li>
Translator-supplied words in the King James Bible:
<ul>
<li>
CMD: <code class="cmd cmdc">I _{.translator-supplied} am_ the LORD.</code>
</li>
<li>
HTML: <code class="html">I &lt;i class="translator-supplied"&gt;am&lt;/i&gt; the LORD.</code>
</li>
<li>
Rendered: I <i class="translator-supplied">am</i> the LORD.
</li>
</ul>
</li>
<li>
Thoughts:
<ul>
<li>
CMD: <code class="cmd cmdc">_Screw 'em._</code>
</li>
<li>
HTML: <code class="html">&lt;i&gt;Screw 'em.&lt;/i&gt;</code>
</li>
<li>
Rendered: <i>Screw 'em.</i>
</li>
</ul>
</li>
</ol>
</li>
<li>
Strong importance <code class="html">&lt;strong&gt;</code>:
<ol type="i">
<li>
Warnings:
<ul>
<li>
CMD: <code class="cmd cmdc">**{lang=de} Achtung!**</code>
</li>
<li>
HTML: <code class="html">&lt;strong lang="de"&gt;Achtung!&lt;/strong&gt;</code>
</li>
<li>
Rendered: <strong lang="de">Achtung!</strong>
</li>
</ul>
</li>
</ol>
</li>
<li>
Stress emphasis <code class="html">&lt;em&gt;</code>:
<ol type="i">
<li>
Stress a particular word in a sentence:
<ul>
<li>
CMD: <code class="cmd cmdc">I don't know *who* took it.</code>
</li>
<li>
HTML: <code class="html">I don't know &lt;em&gt;who&lt;/em&gt; took it.</code>
</li>
<li>
Rendered: I don't know <em>who</em> took it.
</li>
</ul>
</li>
</ol>
</li>
<li>
Citation <code class="html">&lt;cite&gt;</code>:
<ol type="i">
<li>
Book titles:
<ul>
<li>
CMD: <code class="cmd cmdc">''Nineteen Eighty-Four'' is already upon us.</code>
</li>
<li>
HTML: <code class="html">&lt;cite&gt;Nineteen Eighty-Four&lt;/cite&gt; is already upon us.</code>
</li>
<li>
Rendered: <cite>Nineteen Eighty-Four</cite> is already upon us.
</li>
</ul>
</li>
</ol>
</li>
<li>
Quotation <code class="html">&lt;q&gt;</code>:
<ol type="i">
<li>
Inline quotes:
<ul>
<li>
CMD: <code class="cmd cmdc">""It wasn't me.""</code>
</li>
<li>
HTML: <code class="html">&lt;q&gt;It wasn't me.&lt;/q&gt;</code>
</li>
<li>
Rendered: <q>It wasn't me.</q>
</li>
</ul>
</li>
</ol>
</li>
<li>
Nesting and disambiguation:
<div class="wide">
<table>
<thead>
<tr>
<th>Pattern</th>
<th>CMD</th>
<th>HTML</th>
</tr>
</thead>
<tbody>
<tr>
<td>1-1</td>
<td><code class="cmd cmdc">*foo*</code></td>
<td><code class="html">&lt;em&gt;foo&lt;/em&gt;</code></td>
</tr>
<tr>
<td>2-2</td>
<td><code class="cmd cmdc">**foo**</code></td>
<td><code class="html">&lt;strong&gt;foo&lt;/strong&gt;</code></td>
</tr>
<tr>
<td>3-3 (12-21)</td>
<td><code class="cmd cmdc">***foo***</code></td>
<td><code class="html">&lt;em&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/em&gt;</code></td>
</tr>
<tr>
<td>12-3 (12-21)</td>
<td><code class="cmd cmdc">*foo **bar***</code></td>
<td><code class="html">&lt;em&gt;foo &lt;strong&gt;bar&lt;/strong&gt;&lt;/em&gt;</code></td>
</tr>
<tr>
<td>3-21 (12-21)</td>
<td><code class="cmd cmdc">***foo** bar*</code></td>
<td><code class="html">&lt;em&gt;&lt;strong&gt;foo&lt;/strong&gt; bar&lt;/em&gt;</code></td>
</tr>
<tr>
<td>2|1-3 (21-12)</td>
<td><code class="cmd cmdc">**|*foo***</code></td>
<td><code class="html">&lt;strong&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/strong&gt;</code></td>
</tr>
<tr>
<td>21-3 (21-12)</td>
<td><code class="cmd cmdc">**foo *bar***</code></td>
<td><code class="html">&lt;strong&gt;foo &lt;em&gt;bar&lt;/em&gt;&lt;/strong&gt;</code></td>
</tr>
<tr>
<td>3-12 (21-12)</td>
<td><code class="cmd cmdc">***foo* bar**</code></td>
<td><code class="html">&lt;strong&gt;&lt;em&gt;foo&lt;/em&gt; bar&lt;/strong&gt;</code></td>
</tr>
<tr>
<td>4-4 (22-22)</td>
<td><code class="cmd cmdc">****foo****</code></td>
<td><code class="html">&lt;strong&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/strong&gt;</code></td>
</tr>
<tr>
<td>1|2|1-4 (121-121)</td>
<td><code class="cmd cmdc">*|**|*foo****</code></td>
<td><code class="html">&lt;em&gt;&lt;strong&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/strong&gt;&lt;/em&gt;</code></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</details>
<h4 id="escape-idle-html"><a href="#escape-idle-html" class="permalink" aria-label="Permalink"></a>25. <code>#escape-idle-html</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #escape-idle-html
- queue_position: AFTER #inline-semantics
* [&amp;]
  (?!
    (?:
      [a-zA-Z]{1,31}
        |
      [#] (?: [0-9]{1,7} | [xX] [0-9a-fA-F]{1,6} )
    )
    [;]
  )
    --&gt; &amp;amp;
* [&lt;] (?= [\s] ) --&gt; &amp;lt;
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Escapes idle HTML:
</p>
<ol>
<li>
Replaces non-entity ampersand with <code class="html">&amp;amp;</code>.
</li>
<li>
Replaces opening angle brackets before whitespace with <code class="html">&amp;lt;</code>
</li>
</ol>
</details>
<h4 id="whitespace"><a href="#whitespace" class="permalink" aria-label="Permalink"></a>26. <code>#whitespace</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>ReplacementSequence: #whitespace
- queue_position: AFTER #escape-idle-html
- replacements:
    #reduce-whitespace
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Reduces whitespace. See <a href="#reduce-whitespace"><code>#reduce-whitespace</code></a>.
</p>
</details>
<h4 id="placeholder-unprotect"><a href="#placeholder-unprotect" class="permalink" aria-label="Permalink"></a>27. <code>#placeholder-unprotect</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PlaceholderUnprotectionReplacement: #placeholder-unprotect
- queue_position: AFTER #whitespace
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Unprotects all <a href="#cmd-placeholders">placeholder strings</a>.
</p>
</details>
<h3 id="standard-unqueued-replacements"><a href="#standard-unqueued-replacements" class="permalink" aria-label="Permalink"></a>Standard unqueued replacements</h3>
<h4 id="placeholder-protect"><a href="#placeholder-protect" class="permalink" aria-label="Permalink"></a><code>#placeholder-protect</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PlaceholderProtectionReplacement: #placeholder-protect
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Protects a string with a <a href="#cmd-placeholders">placeholder</a>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#literals"><code>#literals</code></a>
</li>
<li>
<a href="#display-code"><code>#display-code</code></a>
</li>
<li>
<a href="#inline-code"><code>#inline-code</code></a>
</li>
<li>
<a href="#cmd-properties"><code>#cmd-properties</code></a>
</li>
<li>
<a href="#boilerplate-protect"><code>#boilerplate-protect</code></a>
</li>
<li>
<a href="#backslash-escapes"><code>#backslash-escapes</code></a>
</li>
<li>
<a href="#angle-bracket-wrap"><code>#angle-bracket-wrap</code></a>
</li>
</ul>
</details>
<h4 id="de-indent"><a href="#de-indent" class="permalink" aria-label="Permalink"></a><code>#de-indent</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>DeIndentationReplacement: #de-indent
- negative_flag: KEEP_INDENTED
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Removes the longest common indentation in a string.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#literals"><code>#literals</code></a>
</li>
<li>
<a href="#display-code"><code>#display-code</code></a>
</li>
<li>
<a href="#inline-code"><code>#inline-code</code></a>
</li>
</ul>
</details>
<h4 id="escape-html"><a href="#escape-html" class="permalink" aria-label="Permalink"></a><code>#escape-html</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>OrdinaryDictionaryReplacement: #escape-html
- negative_flag: KEEP_HTML_UNESCAPED
* &amp; --&gt; &amp;amp;
* &lt; --&gt; &amp;lt;
* &gt; --&gt; &amp;gt;
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Escapes <code>&amp;</code>, <code>&lt;</code>, and <code>&gt;</code> as their respective HTML ampersand entities.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#literals"><code>#literals</code></a>
</li>
<li>
<a href="#display-code"><code>#display-code</code></a>
</li>
<li>
<a href="#inline-code"><code>#inline-code</code></a>
</li>
</ul>
</details>
<h4 id="trim-whitespace"><a href="#trim-whitespace" class="permalink" aria-label="Permalink"></a><code>#trim-whitespace</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #trim-whitespace
* \A [\s]* --&gt;
* [\s]* \Z --&gt;
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Removes whitespace at the very start and very end of the string.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#literals"><code>#literals</code></a>
</li>
<li>
<a href="#table-headers"><code>#table-headers</code></a>
</li>
<li>
<a href="#table-data"><code>#table-data</code></a>
</li>
<li>
<a href="#inline-code"><code>#inline-code</code></a>
</li>
</ul>
</details>
<h4 id="reduce-whitespace"><a href="#reduce-whitespace" class="permalink" aria-label="Permalink"></a><code>#reduce-whitespace</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #reduce-whitespace
- positive_flag: REDUCE_WHITESPACE
* ^ [^\S\n]+ --&gt;
* [^\S\n]+ $ --&gt;
* [\s]+ (?= &lt;br&gt; ) --&gt;
* [\n]+ --&gt; \n
</code></pre>
</details>
<details open>
<summary>Description</summary>
<ol>
<li>
Removes leading horizontal whitespace on each line.
</li>
<li>
Removes trailing horizontal whitespace on each line.
</li>
<li>
Removes whitespace before <code class="cmd cmdc">&lt;br&gt;</code>.
</li>
<li>
Collapsed multiple consecutive newlines into a single newline.
</li>
</ol>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#literals"><code>#literals</code></a>
</li>
<li>
<a href="#display-code"><code>#display-code</code></a>
</li>
<li>
<a href="#inline-code"><code>#inline-code</code></a>
</li>
<li>
<a href="#boilerplate-protect"><code>#boilerplate-protect</code></a>
</li>
<li>
<a href="#whitespace"><code>#whitespace</code></a>
</li>
</ul>
</details>
<h4 id="code-tag-wrap"><a href="#code-tag-wrap" class="permalink" aria-label="Permalink"></a><code>#code-tag-wrap</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #code-tag-wrap
* \A --&gt; &lt;code&gt;
* \Z --&gt; &lt;/code&gt;
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Wraps a string in opening and closing <code>code</code> tags.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#display-code"><code>#display-code</code></a>
</li>
</ul>
</details>
<h4 id="prepend-newline"><a href="#prepend-newline" class="permalink" aria-label="Permalink"></a><code>#prepend-newline</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #prepend-newline
* \A --&gt; \n
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Adds a newline at the very start of a string.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#divisions"><code>#divisions</code></a>
</li>
<li>
<a href="#blockquotes"><code>#blockquotes</code></a>
</li>
<li>
<a href="#unordered-list-items"><code>#unordered-list-items</code></a>
</li>
<li>
<a href="#unordered-lists"><code>#unordered-lists</code></a>
</li>
<li>
<a href="#ordered-list-items"><code>#ordered-list-items</code></a>
</li>
<li>
<a href="#ordered-lists"><code>#ordered-lists</code></a>
</li>
<li>
<a href="#table-rows"><code>#table-rows</code></a>
</li>
<li>
<a href="#table-head"><code>#table-head</code></a>
</li>
<li>
<a href="#table-body"><code>#table-body</code></a>
</li>
<li>
<a href="#table-foot"><code>#table-foot</code></a>
</li>
<li>
<a href="#tables"><code>#tables</code></a>
</li>
<li>
<a href="#paragraphs"><code>#paragraphs</code></a>
</li>
</ul>
</details>
<h4 id="unordered-list-items"><a href="#unordered-list-items" class="permalink" aria-label="Permalink"></a><code>#unordered-list-items</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #unordered-list-items
- starting_pattern: [-+*]
- attribute_specifications: EMPTY
- content_replacements:
    #prepend-newline
- ending_pattern: [-+*]
- tag_name: li
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into list items based on leading occurrences of
<code class="cmd cmdc"><b>-</b></code>, <code class="cmd cmdc"><b>+</b></code>, or <code class="cmd cmdc"><b>*</b></code>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#unordered-lists"><code>#unordered-lists</code></a>
</li>
</ul>
</details>
<h4 id="ordered-list-items"><a href="#ordered-list-items" class="permalink" aria-label="Permalink"></a><code>#ordered-list-items</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #ordered-list-items
- starting_pattern: [0-9]+ [.]
- attribute_specifications: EMPTY
- content_replacements:
    #prepend-newline
- ending_pattern: [0-9]+ [.]
- tag_name: li
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into list items based on leading occurrences of
a <b>run of digits</b> followed by a <b>full stop</b>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#ordered-lists"><code>#ordered-lists</code></a>
</li>
</ul>
</details>
<h4 id="mark-table-headers-for-preceding-table-data">
<a href="#mark-table-headers-for-preceding-table-data" class="permalink" aria-label="Permalink"></a><code>#mark-table-headers-for-preceding-table-data</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #mark-table-headers-for-preceding-table-data
* \A --&gt; ;{}
# Replaces `&lt;th«attributes_sequence»&gt;` with `;{}&lt;th«attributes_sequence»&gt;`,
# so that #table-data will know to stop before it.
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Replaces <code class="cmd cmdc">&lt;th«attributes_sequence»&gt;</code>
with <code class="cmd cmdc">;{}&lt;th«attributes_sequence»&gt;</code>
so that <a href="#table-data"><code>#table-data</code></a> will know to stop before it.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#table-headers"><code>#table-headers</code></a>
</li>
</ul>
</details>
<h4 id="table-headers"><a href="#table-headers" class="permalink" aria-label="Permalink"></a><code>#table-headers</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #table-headers
- starting_pattern: [;]
- attribute_specifications: EMPTY
- content_replacements:
    #trim-whitespace
- ending_pattern: [;,]
- tag_name: th
- concluding_replacements:
    #mark-table-headers-for-preceding-table-data
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into table headers
based on leading occurrences of <code class="cmd cmdc"><b>;</b></code>
up to the next leading <code class="cmd cmdc"><b>;</b></code> or <code class="cmd cmdc"><b>,</b></code>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#table-rows"><code>#table-rows</code></a>
</li>
</ul>
</details>
<h4 id="table-data"><a href="#table-data" class="permalink" aria-label="Permalink"></a><code>#table-data</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #table-data
- starting_pattern: [,]
- attribute_specifications: EMPTY
- content_replacements:
    #trim-whitespace
- ending_pattern: [;,]
- tag_name: td
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into table data
based on leading occurrences of <code class="cmd cmdc"><b>,</b></code>
up to the next leading <code class="cmd cmdc"><b>;</b></code> or <code class="cmd cmdc"><b>,</b></code>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#table-rows"><code>#table-rows</code></a>
</li>
</ul>
</details>
<h4 id="unmark-table-headers-for-preceding-table-data">
<a href="#unmark-table-headers-for-preceding-table-data" class="permalink" aria-label="Permalink"></a><code>#unmark-table-headers-for-preceding-table-data</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #unmark-table-headers-for-preceding-table-data
* ^ [;] \{ \} &lt;th (?P&lt;bracket_or_placeholder_marker&gt; [&gt;\uF8FF] )
    --&gt;
  &lt;th\g&lt;bracket_or_placeholder_marker&gt;
# Replaces `;{}&lt;th«attributes_sequence»&gt;` with `&lt;th«attributes_sequence»&gt;`
# so that #mark-table-headers-for-preceding-table-data is undone.
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Replaces <code class="cmd cmdc">;{}&lt;th«attributes_sequence»&gt;</code>
with <code class="cmd cmdc">&lt;th«attributes_sequence»&gt;</code>
so that <a href="#mark-table-headers-for-preceding-table-data"><code>#mark-table-headers-for-preceding-table-data</code></a> is undone.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#table-rows"><code>#table-rows</code></a>
</li>
</ul>
</details>
<h4 id="table-rows"><a href="#table-rows" class="permalink" aria-label="Permalink"></a><code>#table-rows</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #table-rows
- starting_pattern: [/]{2}
- attribute_specifications: EMPTY
- ending_pattern: [/]{2}
- content_replacements:
    #table-headers
    #table-data
    #unmark-table-headers-for-preceding-table-data
    #prepend-newline
- tag_name: tr
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into table rows
based on leading occurrences of <code class="cmd cmdc"><b>//</b></code>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#table-head"><code>#table-head</code></a>
</li>
<li>
<a href="#table-body"><code>#table-body</code></a>
</li>
<li>
<a href="#table-foot"><code>#table-foot</code></a>
</li>
<li>
<a href="#tables"><code>#tables</code></a>
</li>
</ul>
</details>
<h4 id="table-head"><a href="#table-head" class="permalink" aria-label="Permalink"></a><code>#table-head</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #table-head
- starting_pattern: [|][\^]
- attribute_specifications: EMPTY
- ending_pattern: [|][:_]
- content_replacements:
    #table-rows
    #prepend-newline
- tag_name: thead
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into table heads
based on leading occurrences of <code class="cmd cmdc"><b>|^</b></code>
up to the next leading <code class="cmd cmdc"><b>|:</b></code> or <code class="cmd cmdc"><b>|_</b></code>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#tables"><code>#tables</code></a>
</li>
</ul>
</details>
<h4 id="table-body"><a href="#table-body" class="permalink" aria-label="Permalink"></a><code>#table-body</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #table-body
- starting_pattern: [|][:]
- attribute_specifications: EMPTY
- ending_pattern: [|][_]
- content_replacements:
    #table-rows
    #prepend-newline
- tag_name: tbody
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into table bodies
based on leading occurrences of <code class="cmd cmdc"><b>|:</b></code>
up to the next leading <code class="cmd cmdc"><b>|_</b></code>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#tables"><code>#tables</code></a>
</li>
</ul>
</details>
<h4 id="table-foot"><a href="#table-foot" class="permalink" aria-label="Permalink"></a><code>#table-foot</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #table-foot
- starting_pattern: [|][_]
- attribute_specifications: EMPTY
- content_replacements:
    #table-rows
    #prepend-newline
- tag_name: tfoot
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Partitions content into table feet
based on leading occurrences of <code class="cmd cmdc"><b>|_</b></code>.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#tables"><code>#tables</code></a>
</li>
</ul>
</details>
<h4 id="suppress-scheme"><a href="#suppress-scheme" class="permalink" aria-label="Permalink"></a><code>#suppress-scheme</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #suppress-scheme
- positive_flag: SUPPRESS_SCHEME
* \A [\S]+ [:] (?: [/]{2} )? --&gt;
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Suppresses the scheme
(including the colon and possibly two slashes)
of a URI.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#explicit-links"><code>#explicit-links</code></a>
</li>
</ul>
</details>
<h4 id="angle-bracket-wrap"><a href="#angle-bracket-wrap" class="permalink" aria-label="Permalink"></a><code>#angle-bracket-wrap</code></h4>
<details open>
<summary>Definition</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #angle-bracket-wrap
- positive_flag: ANGLE_BRACKET_WRAP
* \A --&gt; &amp;lt;
* \Z --&gt; &amp;gt;
- concluding_replacements:
    #placeholder-protect
</code></pre>
</details>
<details open>
<summary>Description</summary>
<p>
Wraps a string in angle brackets.
</p>
</details>
<details>
<summary>Dependants</summary>
<ul>
<li>
<a href="#explicit-links"><code>#explicit-links</code></a>
</li>
</ul>
</details>
<h2 id="replacement-rule-syntax"><a href="#replacement-rule-syntax" class="permalink" aria-label="Permalink"></a>CMD replacement rule syntax</h2>
<p>
This section gives the syntax for writing user-defined CMD replacement rules,
which go before the <code class="cmd">«delimiter»</code> when <a href="#authoring-cmd-files">authoring CMD files</a>.
</p>
<p>
In CMD replacement rule syntax, a line must be one of the following:
</p>
<ol>
<li>
<b>Whitespace-only</b>.<br>
Ends the definition of a replacement rule.
</li>
<li>
A <b>comment</b>:
<pre class="cmd cmdr"><code><b>#</b> «comment»
</code></pre>
Is ignored.
</li>
<li>
A <b>rules inclusion</b>:
<pre class="cmd cmdr"><code><b>&lt;</b> «included_file_name»
</code></pre>
Includes the content of <code class="cmd cmdr">«included_file_name»</code>
as CMD replacement rules.
<ul>
<li>
If <code class="cmd cmdr">«included_file_name»</code> begins with a slash,
it is parsed relative to the working directory.
</li>
<li>
If <code class="cmd cmdr">«included_file_name»</code> does not begin with a slash,
it is parsed relative to the file in which the inclusion is invoked.
</li>
</ul>
The convention is for <code class="cmd cmdr">«included_file_name»</code>
to have the extension <code>.cmdr</code>.
</li>
<li>
A <b>class declaration</b>:
<pre class="cmd cmdr"><code>«ClassName»<b>:</b> <b>#</b>«id»
</code></pre>
Begins the definition of a replacement rule
with class <code class="cmd cmdr">«ClassName»</code>.
<ul>
<li>
<code class="cmd cmdr">«ClassName»</code> must be one of
<a href="#ReplacementSequence"><code>ReplacementSequence</code></a>,
<a href="#PlaceholderMarkerReplacement"><code>PlaceholderMarkerReplacement</code></a>,
<a href="#PlaceholderProtectionReplacement"><code>PlaceholderProtectionReplacement</code></a>,
<a href="#PlaceholderUnprotectionReplacement"><code>PlaceholderUnprotectionReplacement</code></a>,
<a href="#DeIndentationReplacement"><code>DeIndentationReplacement</code></a>,
<a href="#OrdinaryDictionaryReplacement"><code>OrdinaryDictionaryReplacement</code></a>,
<a href="#RegexDictionaryReplacement"><code>RegexDictionaryReplacement</code></a>,
<a href="#FixedDelimitersReplacement"><code>FixedDelimitersReplacement</code></a>,
<a href="#ExtensibleFenceReplacement"><code>ExtensibleFenceReplacement</code></a>,
<a href="#PartitioningReplacement"><code>PartitioningReplacement</code></a>,
<a href="#InlineAssortedDelimitersReplacement"><code>InlineAssortedDelimitersReplacement</code></a>,
<a href="#HeadingReplacement"><code>HeadingReplacement</code></a>,
<a href="#ReferenceDefinitionReplacement"><code>ReferenceDefinitionReplacement</code></a>,
<a href="#SpecifiedImageReplacement"><code>SpecifiedImageReplacement</code></a>,
<a href="#ReferencedImageReplacement"><code>ReferencedImageReplacement</code></a>,
<a href="#ExplicitLinkReplacement"><code>ExplicitLinkReplacement</code></a>,
<a href="#SpecifiedLinkReplacement"><code>SpecifiedLinkReplacement</code></a>,
or
<a href="#ReferencedLinkReplacement"><code>ReferencedLinkReplacement</code></a>.
</li>
<li>
<code class="cmd cmdr">«id»</code> may only contain
lower-case letters, hyphens, and full stops.
The convention is for user-defined replacement rules
to have <code class="cmd cmdr">«id»</code> beginning with a full stop
(whereas the <a href="#standard-rules">standard rules</a>
have <code class="cmd cmdr">«id»</code> beginning with a letter).
</li>
</ul>
</li>
<li>
The start of an <b>attribute declaration</b>:
<pre class="cmd cmdr"><code><b>-</b> «name»<b>:</b> «value»
</code></pre>
Declares an attribute for the replacement that is currently being defined.
<ul>
<li>
<code class="cmd cmdr">«name»</code> must be one of the valid attribute names
for the replacement that is currently being defined.
</li>
<li>
<code class="cmd cmdr">«value»</code> must be a suitable attribute value
for that attribute name.
</li>
</ul>
</li>
<li>
The start of an <b>substitution declaration</b>:
<pre class="cmd cmdr"><code><b>*</b> «pattern» <b>--&gt;</b> «substitute»
</code></pre>
Declares a substitution for the replacement that is currently being defined
(which must be an <a href="#OrdinaryDictionaryReplacement"><code>OrdinaryDictionaryReplacement</code></a>
or a <a href="#RegexDictionaryReplacement"><code>RegexDictionaryReplacement</code></a>).
<ul>
<li>
The number of hyphens in the delimiter <code class="cmd cmdr"><b>--&gt;</b></code>
may be arbitrarily increased should <code class="cmd cmdr">«pattern»</code> contain
a run of hyphens followed by a closing angle-bracket.
</li>
</ul>
</li>
<li>
A <b>continuation</b> (of an attribute declaration or substitution declaration),
beginning with whitespace.
</li>
</ol>
<h3 id="ReplacementSequence"><a href="#ReplacementSequence" class="permalink" aria-label="Permalink"></a><code>ReplacementSequence</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>ReplacementSequence: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- replacements: (def) NONE | #«id» [...]
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">replacements</code>:
sequence of replacements to be applied
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule that applies a sequence of replacement rules.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#whitespace"><code>#whitespace</code></a>
</li>
</ul>
</details>
<h3 id="PlaceholderMarkerReplacement"><a href="#PlaceholderMarkerReplacement" class="permalink" aria-label="Permalink"></a><code>PlaceholderMarkerReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>PlaceholderMarkerReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a rule for replacing the placeholder marker with a <a href="#cmd-placeholders">placeholder</a>.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#placeholder-markers"><code>#placeholder-markers</code></a>
</li>
</ul>
</details>
<h3 id="PlaceholderProtectionReplacement"><a href="#PlaceholderProtectionReplacement" class="permalink" aria-label="Permalink"></a><code>PlaceholderProtectionReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>PlaceholderProtectionReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for protecting strings with a <a href="#cmd-placeholders">placeholder</a>.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#placeholder-protect"><code>#placeholder-protect</code></a>
</li>
</ul>
</details>
<h3 id="PlaceholderUnprotectionReplacement"><a href="#PlaceholderUnprotectionReplacement" class="permalink" aria-label="Permalink"></a><code>PlaceholderUnprotectionReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>PlaceholderUnprotectionReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for restoring <a href="#cmd-placeholders">placeholders</a> to their strings.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#placeholder-unprotect"><code>#placeholder-unprotect</code></a>
</li>
</ul>
</details>
<h3 id="DeIndentationReplacement"><a href="#DeIndentationReplacement" class="permalink" aria-label="Permalink"></a><code>DeIndentationReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>DeIndentationReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- positive_flag: (def) NONE | «FLAG_NAME»
- negative_flag: (def) NONE | «FLAG_NAME»
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">positive_flag</code>:
name of the flag that must be enabled for the replacement to be applied
</li>
<li>
<code class="cmd cmdr">negative_flag</code>:
name of the flag that must not be enabled for the replacement to be applied
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for de-indentation.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#de-indent"><code>#de-indent</code></a>
</li>
</ul>
</details>
<h3 id="OrdinaryDictionaryReplacement"><a href="#OrdinaryDictionaryReplacement" class="permalink" aria-label="Permalink"></a><code>OrdinaryDictionaryReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>OrdinaryDictionaryReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- positive_flag: (def) NONE | «FLAG_NAME»
- negative_flag: (def) NONE | «FLAG_NAME»
- apply_mode: (def) SIMULTANEOUS | SEQUENTIAL
* "«pattern»" | '«pattern»' | «pattern»
    --&gt;
  CMD_VERSION | CMD_NAME | CMD_BASENAME | CLEAN_URL |
          "«substitute»" | '«substitute»' | «substitute»
[...]
- concluding_replacements: (def) NONE | #«id» [...]
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">positive_flag</code>:
name of the flag that must be enabled for the replacement to be applied
</li>
<li>
<code class="cmd cmdr">negative_flag</code>:
name of the flag that must not be enabled for the replacement to be applied
</li>
<li>
<code class="cmd cmdr">apply_mode</code>:
whether the substitutions are to be applied simultaneously or sequentially
</li>
<li>
Patterns may be double-quoted, single-quoted, or bare.
</li>
<li>
Substitutes may be a keyword, double-quoted, single-quoted, or bare.
Possible keywords are:
<div class="wide">
<table>
<thead>
<tr>
<th>Keyword</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CMD_VERSION</code></td>
<td><code>__version__</code> in <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py"><code>cmd.py</code></a>
(currently <code class="html">4.5.0</code>)</td>
</tr>
<tr>
<td><code>CMD_NAME</code></td>
<td>CMD file name, relative to working directory, without extension</td>
</tr>
<tr>
<td><code>CMD_BASENAME</code></td>
<td>CMD file name, without path, without extension</td>
</tr>
<tr>
<td><code>CLEAN_URL</code></td>
<td><code>CMD_NAME</code>, with <code>CMD_BASENAME</code> removed if it equals <code>index</code></td>
</tr>
</tbody>
</table>
</div>
</li>
<li>
<code class="cmd cmdr">concluding_replacements</code>:
sequence of replacements to be applied after substitution
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for a dictionary of ordinary substitutions.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#escape-html"><code>#escape-html</code></a>
</li>
<li>
<a href="#boilerplate-properties"><code>#boilerplate-properties</code></a>
</li>
<li>
<a href="#cmd-properties"><code>#cmd-properties</code></a>
</li>
<li>
<a href="#backslash-escapes"><code>#backslash-escapes</code></a>
</li>
</ul>
</details>
<h3 id="RegexDictionaryReplacement"><a href="#RegexDictionaryReplacement" class="permalink" aria-label="Permalink"></a><code>RegexDictionaryReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>RegexDictionaryReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- positive_flag: (def) NONE | «FLAG_NAME»
- negative_flag: (def) NONE | «FLAG_NAME»
* "«pattern»" | '«pattern»' | «pattern»
    --&gt;
  CMD_VERSION | CMD_NAME | CMD_BASENAME | CLEAN_URL |
          "«substitute»" | '«substitute»' | «substitute»
[...]
- concluding_replacements: (def) NONE | #«id» [...]
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">positive_flag</code>:
name of the flag that must be enabled for the replacement to be applied
</li>
<li>
<code class="cmd cmdr">negative_flag</code>:
name of the flag that must not be enabled for the replacement to be applied
</li>
<li>
<code class="cmd cmdr">apply_mode</code>:
whether the substitutions are to be applied simultaneously or sequentially
</li>
<li>
Patterns may be double-quoted, single-quoted, or bare.
</li>
<li>
Substitutes may be a keyword, double-quoted, single-quoted, or bare.
Possible keywords are:
<div class="wide">
<table>
<thead>
<tr>
<th>Keyword</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CMD_VERSION</code></td>
<td><code>__version__</code> in <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py"><code>cmd.py</code></a>
(currently <code class="html">4.5.0</code>)</td>
</tr>
<tr>
<td><code>CMD_NAME</code></td>
<td>CMD file name, relative to working directory, without extension</td>
</tr>
<tr>
<td><code>CMD_BASENAME</code></td>
<td>CMD file name, without path, without extension</td>
</tr>
<tr>
<td><code>CLEAN_URL</code></td>
<td><code>CMD_NAME</code>, with <code>CMD_BASENAME</code> removed if it equals <code>index</code></td>
</tr>
</tbody>
</table>
</div>
</li>
<li>
Patterns and substitutes are parsed according to Python regex syntax
with <code>flags=re.ASCII | re.MULTILINE | re.VERBOSE</code>.
</li>
<li>
<code class="cmd cmdr">concluding_replacements</code>:
sequence of replacements to be applied after substitution
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for a dictionary of regex substitutions.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#trim-whitespace"><code>#trim-whitespace</code></a>
</li>
<li>
<a href="#reduce-whitespace"><code>#reduce-whitespace</code></a>
</li>
<li>
<a href="#code-tag-wrap"><code>#code-tag-wrap</code></a>
</li>
<li>
<a href="#comments"><code>#comments</code></a>
</li>
<li>
<a href="#prepend-newline"><code>#prepend-newline</code></a>
</li>
<li>
<a href="#mark-table-headers-for-preceding-table-data"><code>#mark-table-headers-for-preceding-table-data</code></a>
</li>
<li>
<a href="#unmark-table-headers-for-preceding-table-data"><code>#unmark-table-headers-for-preceding-table-data</code></a>
</li>
<li>
<a href="#boilerplate"><code>#boilerplate</code></a>
</li>
<li>
<a href="#boilerplate-protect"><code>#boilerplate-protect</code></a>
</li>
<li>
<a href="#backslash-continuations"><code>#backslash-continuations</code></a>
</li>
<li>
<a href="#suppress-scheme"><code>#suppress-scheme</code></a>
</li>
<li>
<a href="#angle-bracket-wrap"><code>#angle-bracket-wrap</code></a>
</li>
<li>
<a href="#escape-idle-html"><code>#escape-idle-html</code></a>
</li>
</ul>
</details>
<h3 id="FixedDelimitersReplacement"><a href="#FixedDelimitersReplacement" class="permalink" aria-label="Permalink"></a><code>FixedDelimitersReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>FixedDelimitersReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- syntax_type: BLOCK | INLINE (mandatory)
- allowed_flags: (def) NONE | «letter»=«FLAG_NAME» [...]
- opening_delimiter: «string» (mandatory)
- attribute_specifications: (def) NONE | EMPTY | «string»
- prohibited_content: (def) NONE | BLOCKS | ANCHORED_BLOCKS
- content_replacements: (def) NONE | #«id» [...]
- closing_delimiter: «string» (mandatory)
- tag_name: (def) NONE | «name»
- concluding_replacements: (def) NONE | #«id» [...]
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">syntax_type</code>:
whether the syntax type is block (delimiters must be on their own lines)
or inline (delimiters may be anywhere)
</li>
<li>
<code class="cmd cmdr">allowed_flags</code>:
flag letters and corresponding flag names
</li>
<li>
<code class="cmd cmdr">opening_delimiter</code>:
the opening delimiter
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after the opening delimiter,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">prohibited_content</code>:
whether block tags or anchored block tags are prohibited
in the content between the opening and closing delimiters
</li>
<li>
<code class="cmd cmdr">content_replacements</code>:
sequence of replacements to be applied
to the content between the opening and closing delimiters
</li>
<li>
<code class="cmd cmdr">closing_delimiter</code>:
the closing delimiter
</li>
<li>
<code class="cmd cmdr">tag_name</code>:
the tag name of the element to be constructed
</li>
<li>
<code class="cmd cmdr">concluding_replacements</code>:
sequence of replacements to be applied after construction of the element
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a fixed-delimiters replacement rule.
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<p>
(None)
</p>
</details>
<h3 id="ExtensibleFenceReplacement"><a href="#ExtensibleFenceReplacement" class="permalink" aria-label="Permalink"></a><code>ExtensibleFenceReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>ExtensibleFenceReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- syntax_type: BLOCK | INLINE (mandatory)
- allowed_flags: (def) NONE | «letter»=«FLAG_NAME» [...]
- prologue_delimiter: (def) NONE | «string»
- extensible_delimiter: «character_repeated» (mandatory)
- attribute_specifications: (def) NONE | EMPTY | «string»
- prohibited_content: (def) NONE | BLOCKS | ANCHORED_BLOCKS
- content_replacements: (def) NONE | #«id» [...]
- epilogue_delimiter: (def) NONE | «string»
- tag_name: (def) NONE | «name»
- concluding_replacements: (def) NONE | #«id» [...]
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">syntax_type</code>:
whether the syntax type is block (delimiters must be on their own lines)
or inline (delimiters may be anywhere)
</li>
<li>
<code class="cmd cmdr">allowed_flags</code>:
flag letters and corresponding flag names
</li>
<li>
<code class="cmd cmdr">prologue_delimiter</code>:
the delimiter that must appear before the opening extensible delimiter
</li>
<li>
<code class="cmd cmdr">extensible_delimiter</code>:
the opening and closing extensible delimiter (a character repeated)
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after the opening extensible delimiter,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">prohibited_content</code>:
whether block tags or anchored block tags are prohibited
in the content between the opening and closing extensible delimiters
</li>
<li>
<code class="cmd cmdr">content_replacements</code>:
sequence of replacements to be applied
to the content between the opening and closing extensible delimiters
</li>
<li>
<code class="cmd cmdr">epilogue_delimiter</code>:
the delimiter that must appear after the closing extensible delimiter
</li>
<li>
<code class="cmd cmdr">tag_name</code>:
the tag name of the element to be constructed
</li>
<li>
<code class="cmd cmdr">concluding_replacements</code>:
sequence of replacements to be applied after construction of the element
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a generalised extensible-fence-style replacement rule.
(Inspired by the repeatable backticks of John Gruber's Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#literals"><code>#literals</code></a>
</li>
<li>
<a href="#display-code"><code>#display-code</code></a>
</li>
<li>
<a href="#divisions"><code>#divisions</code></a>
</li>
<li>
<a href="#blockquotes"><code>#blockquotes</code></a>
</li>
<li>
<a href="#unordered-lists"><code>#unordered-lists</code></a>
</li>
<li>
<a href="#ordered-lists"><code>#ordered-lists</code></a>
</li>
<li>
<a href="#tables"><code>#tables</code></a>
</li>
<li>
<a href="#paragraphs"><code>#paragraphs</code></a>
</li>
<li>
<a href="#inline-code"><code>#inline-code</code></a>
</li>
</ul>
</details>
<h3 id="PartitioningReplacement"><a href="#PartitioningReplacement" class="permalink" aria-label="Permalink"></a><code>PartitioningReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>PartitioningReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- starting_pattern: «regex» (mandatory)
- attribute_specifications: (def) NONE | EMPTY | «string»
- content_replacements: (def) NONE | #«id» [...]
- ending_pattern: (def) NONE | «regex»
- tag_name: (def) NONE | «name»
- concluding_replacements: (def) NONE | #«id» [...]
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">starting_pattern</code>:
pattern that marks the start of a partition
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after the starting pattern,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">content_replacements</code>:
sequence of replacements to be applied
to the content from the starting pattern up to the ending pattern
</li>
<li>
<code class="cmd cmdr">ending_pattern</code>:
pattern, not consumed, that marks the end of a partition
</li>
<li>
<code class="cmd cmdr">tag_name</code>:
the tag name of the element to be constructed
</li>
<li>
<code class="cmd cmdr">concluding_replacements</code>:
sequence of replacements to be applied after construction of the element
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a generalised partitioning replacement rule.
(Does partitioning by consuming everything from a
starting pattern up to but not including an ending pattern.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#unordered-list-items"><code>#unordered-list-items</code></a>
</li>
<li>
<a href="#ordered-list-items"><code>#ordered-list-items</code></a>
</li>
<li>
<a href="#table-headers"><code>#table-headers</code></a>
</li>
<li>
<a href="#table-data"><code>#table-data</code></a>
</li>
<li>
<a href="#table-rows"><code>#table-rows</code></a>
</li>
<li>
<a href="#table-head"><code>#table-head</code></a>
</li>
<li>
<a href="#table-body"><code>#table-body</code></a>
</li>
<li>
<a href="#table-foot"><code>#table-foot</code></a>
</li>
</ul>
</details>
<h3 id="InlineAssortedDelimitersReplacement"><a href="#InlineAssortedDelimitersReplacement" class="permalink" aria-label="Permalink"></a><code>InlineAssortedDelimitersReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>InlineAssortedDelimitersReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- delimiter_conversion:
    «character» | «character_doubled»=«tag_name» [...] (mandatory)
- attribute_specifications: (def) NONE | EMPTY | «string»
- prohibited_content: (def) NONE | BLOCKS | ANCHORED_BLOCKS
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">delimiter_conversion</code>:
a sequence of conversions
from single-character or double-character delimiters
to tag names
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after each starting delimiter,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">prohibited_content</code>:
whether block tags or anchored block tags are prohibited
in the content between the opening and closing delimiters
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines an inline assorted-delimiters replacement rule.
(A generalisation of the replacement that processes <code>*</code> and <code>**</code>
into <code>&lt;em&gt;</code> and <code>&lt;strong&gt;</code> in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#inline-semantics"><code>#inline-semantics</code></a>
</li>
</ul>
</details>
<h3 id="HeadingReplacement"><a href="#HeadingReplacement" class="permalink" aria-label="Permalink"></a><code>HeadingReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>HeadingReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- attribute_specifications: (def) NONE | EMPTY | «string»
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after the declaring hashes,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for headings.
(A generalisation of the replacement that processes
ATX headings in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#headings"><code>#headings</code></a>
</li>
</ul>
</details>
<h3 id="ReferenceDefinitionReplacement"><a href="#ReferenceDefinitionReplacement" class="permalink" aria-label="Permalink"></a><code>ReferenceDefinitionReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>ReferenceDefinitionReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- attribute_specifications: (def) NONE | EMPTY | «string»
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, between the square-bracketed label and the declaring colon,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for consuming reference definitions.
(A generalisation of the replacement that processes
<code>[«label»]: «uri» "«title»"</code> in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#reference-definitions"><code>#reference-definitions</code></a>
</li>
</ul>
</details>
<h3 id="SpecifiedImageReplacement"><a href="#SpecifiedImageReplacement" class="permalink" aria-label="Permalink"></a><code>SpecifiedImageReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>SpecifiedImageReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- attribute_specifications: (def) NONE | EMPTY | «string»
- prohibited_content: (def) NONE | BLOCKS | ANCHORED_BLOCKS
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, between the square-bracketed alt text
and the round-bracketed URI &amp; title,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">prohibited_content</code>:
whether block tags or anchored block tags are prohibited
in the square-bracketed alt text
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for specified images.
(A generalisation of the replacement that processes
<code>![«alt text»](«uri» "«title»")</code> in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#specified-images"><code>#specified-images</code></a>
</li>
</ul>
</details>
<h3 id="ReferencedImageReplacement"><a href="#ReferencedImageReplacement" class="permalink" aria-label="Permalink"></a><code>ReferencedImageReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>ReferencedImageReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- attribute_specifications: (def) NONE | EMPTY | «string»
- prohibited_content: (def) NONE | BLOCKS | ANCHORED_BLOCKS
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after the square-bracketed alt text,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">prohibited_content</code>:
whether block tags or anchored block tags are prohibited
in the square-bracketed alt text and the square-bracketed label
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for referenced images.
(A generalisation of the replacement that processes
<code>![«alt text»][«label»]</code> in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#referenced-images"><code>#referenced-images</code></a>
</li>
</ul>
</details>
<h3 id="ExplicitLinkReplacement"><a href="#ExplicitLinkReplacement" class="permalink" aria-label="Permalink"></a><code>ExplicitLinkReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>ExplicitLinkReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- allowed_flags: (def) NONE | «letter»=«FLAG_NAME» [...]
- attribute_specifications: (def) NONE | EMPTY | «string»
- content_replacements: (def) NONE | #«id» [...]
- concluding_replacements: (def) NONE | #«id» [...]
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">allowed_flags</code>:
flag letters and corresponding flag names
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after the opening angle bracket,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">content_replacements</code>:
sequence of replacements to be applied
to the content between the opening and closing angle brackets
</li>
<li>
<code class="cmd cmdr">concluding_replacements</code>:
sequence of replacements to be applied after construction of the element
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for explicit links.
(A generalisation of the replacement that processes
<code>&lt;«uri»&gt;</code> in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#explicit-links"><code>#explicit-links</code></a>
</li>
</ul>
</details>
<h3 id="SpecifiedLinkReplacement"><a href="#SpecifiedLinkReplacement" class="permalink" aria-label="Permalink"></a><code>SpecifiedLinkReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>SpecifiedLinkReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- attribute_specifications: (def) NONE | EMPTY | «string»
- prohibited_content: (def) NONE | BLOCKS | ANCHORED_BLOCKS
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, between the square-bracketed link text
and the round-bracketed URI &amp; title,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">prohibited_content</code>:
whether block tags or anchored block tags are prohibited
in the square-bracketed link text
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for specified links.
(A generalisation of the replacement that processes
<code>[«link text»](«uri» "«title»")</code> in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#specified-links"><code>#specified-links</code></a>
</li>
</ul>
</details>
<h3 id="ReferencedLinkReplacement"><a href="#ReferencedLinkReplacement" class="permalink" aria-label="Permalink"></a><code>ReferencedLinkReplacement</code></h3>
<details open>
<summary>Syntax</summary>
<pre class="cmd cmdr"><code>ReferencedLinkReplacement: #«id»
- queue_position: (def) NONE | ROOT | BEFORE #«id» | AFTER #«id»
- attribute_specifications: (def) NONE | EMPTY | «string»
- prohibited_content: (def) NONE | BLOCKS | ANCHORED_BLOCKS
</code></pre>
<ul>
<li>
<code class="cmd cmdr">queue_position</code>:
position in the replacement queue
</li>
<li>
<code class="cmd cmdr">attribute_specifications</code>:
whether, after the square-bracketed link text,
there may be <a href="#cmd-attribute-specifications">CMD attribute specifications</a> supplied,
and if so, what the default specification is
</li>
<li>
<code class="cmd cmdr">prohibited_content</code>:
whether block tags or anchored block tags are prohibited
in the square-bracketed link text and the square-bracketed label
</li>
</ul>
</details>
<details open>
<summary>Description</summary>
<p>
Defines a replacement rule for referenced links.
(A generalisation of the replacement that processes
<code>[«link text»][«label»]</code> in Markdown.)
</p>
</details>
<details open>
<summary>Standard rules usage</summary>
<ul>
<li>
<a href="#referenced-links"><code>#referenced-links</code></a>
</li>
</ul>
</details>
<h2 id="cmd-placeholders"><a href="#cmd-placeholders" class="permalink" aria-label="Permalink"></a>CMD placeholders</h2>
<p>
There are many instances in which the result of a replacement
should not be altered further by replacements to follow.
To protect a string from further alteration,
it is temporarily replaced by a <b>placeholder</b>
consisting of code points in the main Unicode Private Use Area.
</p>
<p>
Specifically, the placeholder for a string is of the following form:
</p>
<pre class="cmd cmdc"><code><b>«marker»</b><b>«run_characters»</b><b>«marker»</b>
</code></pre>
<ul>
<li>
<b><code class="cmd cmdc">«marker»</code></b> is <code>«U+F8FF»</code>.
</li>
<li>
<b><code class="cmd cmdc">«run_characters»</code></b> are between <code>«U+E000»</code> and <code>«U+E0FF»</code>
each representing a Unicode byte of the string.
</li>
</ul>
<p>
It is assumed that the user will not define replacement rules that
tamper with strings of the form
<code class="cmd cmdc">«marker»«run_characters»«marker»</code>.
</p>
<h3>Example</h3>
<ul>
<li>
Consider the string <code class="cmd cmdc">£3</code>.
</li>
<li>
Its code points are <code>U+00A3</code> and <code>U+0033</code>.
</li>
<li>
The corresponding Unicode bytes are
<code>\x<b>C2</b>\x<b>A3</b></code> and <code>\x<b>33</b></code>.
</li>
<li>
The <code class="cmd cmdc">«run_characters»</code> are therefore
<code>«U+E0<b>C2</b>»«U+E0<b>A3</b>»«U+E0<b>33</b>»</code>.
</li>
<li>
The full placeholder is therefore
<code>«U+F8FF»«U+E0<b>C2</b>»«U+E0<b>A3</b>»«U+E0<b>33</b>»«U+F8FF»</code>.
</li>
</ul>
<h2 id="cmd-attribute-specifications"><a href="#cmd-attribute-specifications" class="permalink" aria-label="Permalink"></a>CMD attribute specifications</h2>
<p>
When a CMD replacement rule is defined with
<code class="cmd cmdr">attribute_specifications</code> not equal to <code class="cmd cmdr">NONE</code>,
it allows HTML attributes to be specified by <b>CMD attribute specifications</b>
enclosed in curly brackets.
</p>
<p>
CMD attribute specifications may be of the following forms:
</p>
<pre class="cmd cmdc"><code>«name»<b>=</b>"«quoted value (whitespace allowed)»"
«name»<b>=</b>«bare-value»
<b>#</b>«id»
<b>.</b>«class»
<b>r</b>«rowspan»
<b>c</b>«colspan»
<b>w</b>«width»
<b>h</b>«height»
<b>-</b>«delete-name»
«boolean-name»
</code></pre>
<p>
In the two forms with an explicit equals sign,
the following abbreviations are allowed for <code class="cmd cmdc">«name»</code>:
</p>
<ul>
<li>
<code class="cmd cmdc">#</code> for <code class="cmd cmdc">id</code>
</li>
<li>
<code class="cmd cmdc">.</code> for <code class="cmd cmdc">class</code>
</li>
<li>
<code class="cmd cmdc">l</code> for <code class="cmd cmdc">lang</code>
</li>
<li>
<code class="cmd cmdc">r</code> for <code class="cmd cmdc">rowspan</code>
</li>
<li>
<code class="cmd cmdc">c</code> for <code class="cmd cmdc">colspan</code>
</li>
<li>
<code class="cmd cmdc">w</code> for <code class="cmd cmdc">width</code>
</li>
<li>
<code class="cmd cmdc">h</code> for <code class="cmd cmdc">height</code>
</li>
<li>
<code class="cmd cmdc">s</code> for <code class="cmd cmdc">style</code>
</li>
</ul>
<h3>Examples</h3>
<ol>
<li>
Behaviour for the standard rule <a href="#inline-code"><code>#inline-code</code></a>:
<ul>
<li>
CMD: <code class="cmd cmdc">`{#foo .bar l=en-AU title="baz"} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code id="foo" class="bar" lang="en-AU" title="baz"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
<li>
Empty attribute specifications:
<ul>
<li>
CMD: <code class="cmd cmdc">`{} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
<li>
Non-<code>class</code> values will supersede earlier ones:
<ul>
<li>
CMD: <code class="cmd cmdc">`{#1 #2 title=A title=B} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code id="2" title="B"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
<li>
<code>class</code> values will accumulate:
<ul>
<li>
CMD: <code class="cmd cmdc">`{.a .b class=c .d} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code class="a b c d"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
<li>
Delete <code>class</code> to reset it:
<ul>
<li>
CMD: <code class="cmd cmdc">`{.a .b -class class=c .d} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code class="c d"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
</ol>
<h2 id="repository-links"><a href="#repository-links" class="permalink" aria-label="Permalink"></a>Repository links</h2>
<ul>
<li>
This page's CMD: <a href="https://github.com/conway-markdown/conway-markdown.github.io/blob/master/index.cmd">index.cmd</a>
</li>
<li>
This page's HTML: <a href="https://github.com/conway-markdown/conway-markdown.github.io/blob/master/index.html">index.html</a>
</li>
<li>
This page's repository: <a href="https://github.com/conway-markdown/conway-markdown.github.io">conway-markdown.github.io</a>
</li>
<li>
Python implementation's repository: <a href="https://github.com/conway-markdown/conway-markdown">conway-markdown</a>
</li>
</ul>
</body>
</html>
